"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[50207,4631],{76680:function(t,e,n){function i(t){return void 0===t||Array.isArray(t)?t:[t]}n.d(e,{r:function(){return i}})},55070:function(t,e,n){n.d(e,{Eu:function(){return r},hZ:function(){return a}});var i=["#44739e","#984ea3","#00d2d5","#ff7f00","#af8d00","#7f80cd","#b3e900","#c42e60","#a65628","#f781bf","#8dd3c7","#bebada","#fb8072","#80b1d3","#fdb462","#fccde5","#bc80bd","#ffed6f","#c4eaff","#cf8c00","#1b9e77","#d95f02","#e7298a","#e6ab02","#a6761d","#0097ff","#00d067","#f43600","#4ba93b","#5779bb","#927acc","#97ee3f","#bf3947","#9f5b00","#f48758","#8caed6","#f2b94f","#eff26e","#e43872","#d9b100","#9d7a00","#698cff","#d9d9d9","#00d27e","#d06800","#009f82","#c49200","#cbe8ff","#fecddf","#c27eb6","#8cd2ce","#c4b8d9","#f883b0","#a49100","#f48800","#27d0df","#a04a9b"];function r(t){return i[t%i.length]}function a(t,e){return e.getPropertyValue("--graph-color-".concat(t+1))||r(t)}},72043:function(t,e,n){n.d(e,{A:function(){return u},v:function(){return s}});var i=n(23158),r=n(25101),a=n(66477),o=function(t,e,n,a){var o=n((0,i.Z)(t,e),a);return o instanceof Date?(0,r.Z)(o,e):o},u=function(t,e,n,i,r){return n.time_zone===a.c_.server?o(t,i.time_zone,e,r):e(t,r)},s=function(t,e,n,i,r){return n.time_zone===a.c_.server?o(t,i.time_zone,e,r):e(t,r)}},26410:function(t,e,n){n.d(e,{Bt:function(){return o},T8:function(){return u}});var i=n(22075),r=n(66477),a=(n(4631),["sunday","monday","tuesday","wednesday","thursday","friday","saturday"]),o=function(t){return t.first_weekday===r.FS.language?"weekInfo"in Intl.Locale.prototype?new Intl.Locale(t.language).weekInfo.firstDay%7:(0,i.L)(t.language)%7:a.includes(t.first_weekday)?a.indexOf(t.first_weekday):1},u=function(t){var e=o(t);return a[e]}},12198:function(t,e,n){n.d(e,{D_:function(){return Z},NC:function(){return _},Nh:function(){return y},U8:function(){return D},WB:function(){return f},mn:function(){return d},p6:function(){return s},pU:function(){return o},ud:function(){return m},yQ:function(){return k}});var i=n(93359),r=n(14516),a=n(66477),o=(n(4631),function(t,e,n){return u(e,n.time_zone).format(t)}),u=(0,r.Z)((function(t,e){return new Intl.DateTimeFormat(t.language,{weekday:"long",month:"long",day:"numeric",timeZone:"server"===t.time_zone?e:void 0})})),s=function(t,e,n){return c(e,n.time_zone).format(t)},c=(0,r.Z)((function(t,e){return new Intl.DateTimeFormat(t.language,{year:"numeric",month:"long",day:"numeric",timeZone:"server"===t.time_zone?e:void 0})})),d=function(t,e,n){return l(e,n.time_zone).format(t)},l=(0,r.Z)((function(t,e){return new Intl.DateTimeFormat(t.language,{year:"numeric",month:"short",day:"numeric",timeZone:"server"===t.time_zone?e:void 0})})),f=function(t,e,n){var r,o,u,s,c,d=h(e,n.time_zone);if(e.date_format===a.t6.language||e.date_format===a.t6.system)return d.format(t);var l=d.formatToParts(t),f=null===(r=l.find((function(t){return"literal"===t.type})))||void 0===r?void 0:r.value,m=null===(o=l.find((function(t){return"day"===t.type})))||void 0===o?void 0:o.value,v=null===(u=l.find((function(t){return"month"===t.type})))||void 0===u?void 0:u.value,_=null===(s=l.find((function(t){return"year"===t.type})))||void 0===s?void 0:s.value,g=l.at(l.length-1),y="literal"===(null==g?void 0:g.type)?null==g?void 0:g.value:"";return"bg"===e.language&&e.date_format===a.t6.YMD&&(y=""),(c={},(0,i.Z)(c,a.t6.DMY,"".concat(m).concat(f).concat(v).concat(f).concat(_).concat(y)),(0,i.Z)(c,a.t6.MDY,"".concat(v).concat(f).concat(m).concat(f).concat(_).concat(y)),(0,i.Z)(c,a.t6.YMD,"".concat(_).concat(f).concat(v).concat(f).concat(m).concat(y)),c)[e.date_format]},h=(0,r.Z)((function(t,e){var n=t.date_format===a.t6.system?void 0:t.language;return t.date_format===a.t6.language||(t.date_format,a.t6.system),new Intl.DateTimeFormat(n,{year:"numeric",month:"numeric",day:"numeric",timeZone:"server"===t.time_zone?e:void 0})})),m=function(t,e,n){return v(e,n.time_zone).format(t)},v=(0,r.Z)((function(t,e){return new Intl.DateTimeFormat(t.language,{day:"numeric",month:"short",timeZone:"server"===t.time_zone?e:void 0})})),_=function(t,e,n){return g(e,n.time_zone).format(t)},g=(0,r.Z)((function(t,e){return new Intl.DateTimeFormat(t.language,{month:"long",year:"numeric",timeZone:"server"===t.time_zone?e:void 0})})),y=function(t,e,n){return p(e,n.time_zone).format(t)},p=(0,r.Z)((function(t,e){return new Intl.DateTimeFormat(t.language,{month:"long",timeZone:"server"===t.time_zone?e:void 0})})),k=function(t,e,n){return b(e,n.time_zone).format(t)},b=(0,r.Z)((function(t,e){return new Intl.DateTimeFormat(t.language,{year:"numeric",timeZone:"server"===t.time_zone?e:void 0})})),Z=function(t,e,n){return w(e,n.time_zone).format(t)},w=(0,r.Z)((function(t,e){return new Intl.DateTimeFormat(t.language,{weekday:"long",timeZone:"server"===t.time_zone?e:void 0})})),D=function(t,e,n){return z(e,n.time_zone).format(t)},z=(0,r.Z)((function(t,e){return new Intl.DateTimeFormat(t.language,{weekday:"short",timeZone:"server"===t.time_zone?e:void 0})}))},44583:function(t,e,n){n.d(e,{DG:function(){return c},E8:function(){return h},NR:function(){return v},o0:function(){return u},yD:function(){return l}});var i=n(14516),r=(n(4631),n(12198)),a=n(49684),o=n(65810),u=function(t,e,n){return s(e,n.time_zone).format(t)},s=(0,i.Z)((function(t,e){return new Intl.DateTimeFormat(t.language,{year:"numeric",month:"long",day:"numeric",hour:(0,o.y)(t)?"numeric":"2-digit",minute:"2-digit",hourCycle:(0,o.y)(t)?"h12":"h23",timeZone:"server"===t.time_zone?e:void 0})})),c=function(t,e,n){return d(e,n.time_zone).format(t)},d=(0,i.Z)((function(t,e){return new Intl.DateTimeFormat(t.language,{year:"numeric",month:"short",day:"numeric",hour:(0,o.y)(t)?"numeric":"2-digit",minute:"2-digit",hourCycle:(0,o.y)(t)?"h12":"h23",timeZone:"server"===t.time_zone?e:void 0})})),l=function(t,e,n){return f(e,n.time_zone).format(t)},f=(0,i.Z)((function(t,e){return new Intl.DateTimeFormat(t.language,{month:"short",day:"numeric",hour:(0,o.y)(t)?"numeric":"2-digit",minute:"2-digit",hourCycle:(0,o.y)(t)?"h12":"h23",timeZone:"server"===t.time_zone?e:void 0})})),h=function(t,e,n){return m(e,n.time_zone).format(t)},m=(0,i.Z)((function(t,e){return new Intl.DateTimeFormat(t.language,{year:"numeric",month:"long",day:"numeric",hour:(0,o.y)(t)?"numeric":"2-digit",minute:"2-digit",second:"2-digit",hourCycle:(0,o.y)(t)?"h12":"h23",timeZone:"server"===t.time_zone?e:void 0})})),v=function(t,e,n){return"".concat((0,r.WB)(t,e,n),", ").concat((0,a.mr)(t,e,n))}},49684:function(t,e,n){n.d(e,{Vu:function(){return u},Zs:function(){return l},mr:function(){return a},xO:function(){return c}});var i=n(14516),r=(n(4631),n(65810)),a=function(t,e,n){return o(e,n.time_zone).format(t)},o=(0,i.Z)((function(t,e){return new Intl.DateTimeFormat(t.language,{hour:"numeric",minute:"2-digit",hourCycle:(0,r.y)(t)?"h12":"h23",timeZone:"server"===t.time_zone?e:void 0})})),u=function(t,e,n){return s(e,n.time_zone).format(t)},s=(0,i.Z)((function(t,e){return new Intl.DateTimeFormat(t.language,{hour:(0,r.y)(t)?"numeric":"2-digit",minute:"2-digit",second:"2-digit",hourCycle:(0,r.y)(t)?"h12":"h23",timeZone:"server"===t.time_zone?e:void 0})})),c=function(t,e,n){return d(e,n.time_zone).format(t)},d=(0,i.Z)((function(t,e){return new Intl.DateTimeFormat(t.language,{weekday:"long",hour:(0,r.y)(t)?"numeric":"2-digit",minute:"2-digit",hourCycle:(0,r.y)(t)?"h12":"h23",timeZone:"server"===t.time_zone?e:void 0})})),l=function(t,e,n){return f(e,n.time_zone).format(t)},f=(0,i.Z)((function(t,e){return new Intl.DateTimeFormat("en-GB",{hour:"numeric",minute:"2-digit",hour12:!1,timeZone:"server"===t.time_zone?e:void 0})}))},87367:function(t,e,n){n.d(e,{Z:function(){return r}});var i=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=""+t,i=1;i<e;i++)n=parseInt(n)<Math.pow(10,i)?"0".concat(n):n;return n};function r(t){var e=Math.floor(t/1e3/3600),n=Math.floor(t/1e3%3600/60),r=Math.floor(t/1e3%3600%60),a=Math.floor(t%1e3);return e>0?"".concat(e,":").concat(i(n),":").concat(i(r)):n>0?"".concat(n,":").concat(i(r)):r>0||a>0?"".concat(r).concat(a>0?".".concat(i(a,3)):""):null}},65810:function(t,e,n){n.d(e,{y:function(){return a}});var i=n(14516),r=n(66477),a=(0,i.Z)((function(t){if(t.time_format===r.zt.language||t.time_format===r.zt.system){var e=t.time_format===r.zt.language?t.language:void 0;return new Date("January 1, 2023 22:00:00").toLocaleString(e).includes("10")}return t.time_format===r.zt.am_pm}))},85157:function(t,e,n){n.d(e,{t:function(){return u}});var i=n(71650),r=n(33368),a=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.localStorage;(0,i.Z)(this,t),this.storage=void 0,this._storage={},this._listeners={},this.storage=n,n===window.localStorage&&window.addEventListener("storage",(function(t){t.key&&e.hasKey(t.key)&&(e._storage[t.key]=t.newValue?JSON.parse(t.newValue):t.newValue,e._listeners[t.key]&&e._listeners[t.key].forEach((function(n){return n(t.oldValue?JSON.parse(t.oldValue):t.oldValue,e._storage[t.key])})))}))}return(0,r.Z)(t,[{key:"addFromStorage",value:function(t){if(!this._storage[t]){var e=this.storage.getItem(t);e&&(this._storage[t]=JSON.parse(e))}}},{key:"subscribeChanges",value:function(t,e){var n=this;return this._listeners[t]?this._listeners[t].push(e):this._listeners[t]=[e],function(){n.unsubscribeChanges(t,e)}}},{key:"unsubscribeChanges",value:function(t,e){if(t in this._listeners){var n=this._listeners[t].indexOf(e);-1!==n&&this._listeners[t].splice(n,1)}}},{key:"hasKey",value:function(t){return t in this._storage}},{key:"getValue",value:function(t){return this._storage[t]}},{key:"setValue",value:function(t,e){var n=this._storage[t];this._storage[t]=e;try{void 0===e?this.storage.removeItem(t):this.storage.setItem(t,JSON.stringify(e))}catch(i){}finally{this._listeners[t]&&this._listeners[t].forEach((function(t){return t(n,e)}))}}}]),t}(),o={},u=function(t){return function(e){var n,i=t.storage||"localStorage";i&&i in o?n=o[i]:(n=new a(window[i]),o[i]=n);var r=String(e.key),u=t.key||String(e.key),s=e.initializer?e.initializer():void 0;n.addFromStorage(u);var c=!1!==t.subscribe?function(t){return n.subscribeChanges(u,(function(n,i){t.requestUpdate(e.key,n)}))}:void 0,d=function(){return n.hasKey(u)?n.getValue(u):s};return{kind:"method",placement:"prototype",key:e.key,descriptor:{set:function(i){!function(i,r){var a;t.state&&(a=d()),n.setValue(u,r),t.state&&i.requestUpdate(e.key,a)}(this,i)},get:function(){return d()},enumerable:!0,configurable:!0},finisher:function(n){if(t.state&&t.subscribe){var i=n.prototype.connectedCallback,a=n.prototype.disconnectedCallback;n.prototype.connectedCallback=function(){i.call(this),this["__unbsubLocalStorage".concat(r)]=null==c?void 0:c(this)},n.prototype.disconnectedCallback=function(){var t;a.call(this),null===(t=this["__unbsubLocalStorage".concat(r)])||void 0===t||t.call(this),this["__unbsubLocalStorage".concat(r)]=void 0}}t.state&&n.createProperty(e.key,Object.assign({noAccessor:!0},t.stateOptions))}}}}},41826:function(t,e,n){n.r(e),n.d(e,{computeStateDisplay:function(){return _},computeStateDisplayFromEntityAttributes:function(){return g},computeStateDisplaySingleEntity:function(){return v}});var i=n(56007),r=n(66477),a=n(24833),o=n(87367),u={ms:1,s:1e3,min:6e4,h:36e5,d:864e5},s=n(12198),c=n(44583),d=n(49684),l=n(18457),f=n(68307),h=n(58831),m=n(40095),v=function(t,e,n,i,r,a){return g(t,n,i,r,e.entity_id,e.attributes,void 0!==a?a:e.state)},_=function(t,e,n,i,r,a){var o=null==r?void 0:r[e.entity_id];return g(t,n,i,o,e.entity_id,e.attributes,void 0!==a?a:e.state)},g=function(t,e,n,v,_,g,y){if(y===i.lz||y===i.nZ)return t("state.default.".concat(y));if((0,l.sJ)(g)){if("duration"===g.device_class&&g.unit_of_measurement&&u[g.unit_of_measurement])try{return k=y,b=g.unit_of_measurement,(0,o.Z)(parseFloat(k)*u[b])||"0"}catch(L){}if("monetary"===g.device_class)try{return(0,l.uf)(y,e,Object.assign({style:"currency",currency:g.unit_of_measurement,minimumFractionDigits:2},(0,l.l4)({state:y,attributes:g},v)))}catch(L){}var p=g.unit_of_measurement?"%"===g.unit_of_measurement?(0,f.K)(e)+"%":" ".concat(g.unit_of_measurement):"";return"".concat((0,l.uf)(y,e,(0,l.l4)({state:y,attributes:g},v))).concat(p)}var k,b,Z,w=(0,h.M)(_);if("datetime"===w){var D=new Date(y);return(0,c.o0)(D,e,n)}if(["date","input_datetime","time"].includes(w))try{var z=y.split(" ");if(2===z.length)return(0,c.o0)(new Date(z.join("T")),Object.assign(Object.assign({},e),{},{time_zone:r.c_.local}),n);if(1===z.length){if(y.includes("-"))return(0,s.p6)(new Date("".concat(y,"T00:00")),Object.assign(Object.assign({},e),{},{time_zone:r.c_.local}),n);if(y.includes(":")){var x=new Date;return(0,d.mr)(new Date("".concat(x.toISOString().split("T")[0],"T").concat(y)),Object.assign(Object.assign({},e),{},{time_zone:r.c_.local}),n)}}return y}catch(C){return y}if("counter"===w||"number"===w||"input_number"===w)return(0,l.uf)(y,e,(0,l.l4)({state:y,attributes:g},v));if(["button","event","image","input_button","scene","stt","tts","wake_word"].includes(w)||"sensor"===w&&"timestamp"===g.device_class)try{return(0,c.o0)(new Date(y),e,n)}catch(L){return y}return"update"===w?"on"===y?(0,a.X4)(g)?(0,m.f)(g,a.k6)&&"number"==typeof g.in_progress?t("ui.card.update.installing_with_progress",{progress:g.in_progress}):t("ui.card.update.installing"):g.latest_version:g.skipped_version===g.latest_version?null!==(Z=g.latest_version)&&void 0!==Z?Z:t("state.default.unavailable"):t("ui.card.update.up_to_date"):(null==v?void 0:v.translation_key)&&t("component.".concat(v.platform,".entity.").concat(w,".").concat(v.translation_key,".state.").concat(y))||g.device_class&&t("component.".concat(w,".entity_component.").concat(g.device_class,".state.").concat(y))||t("component.".concat(w,".entity_component._.state.").concat(y))||y}},50239:function(t,e,n){n.d(e,{Y:function(){return r},u:function(){return i}});var i=function(t,e,n){return Math.min(Math.max(t,e),n)},r=function(t,e,n){var i;return i=null!=e?Math.max(t,e):t,i=null!=n?Math.min(i,n):i}},18457:function(t,e,n){n.d(e,{Hd:function(){return u},SL:function(){return a},l4:function(){return c},sJ:function(){return o},uf:function(){return s}});var i=n(66477),r=n(27593),a=function(t){return o(t.attributes)},o=function(t){return!!t.unit_of_measurement||!!t.state_class},u=function(t){switch(t.number_format){case i.y4.comma_decimal:return["en-US","en"];case i.y4.decimal_comma:return["de","es","it"];case i.y4.space_comma:return["fr","sv","cs"];case i.y4.system:return;default:return t.language}},s=function(t,e,n){var a=e?u(e):void 0;if(Number.isNaN=Number.isNaN||function t(e){return"number"==typeof e&&t(e)},(null==e?void 0:e.number_format)!==i.y4.none&&!Number.isNaN(Number(t))&&Intl)try{return new Intl.NumberFormat(a,d(t,n)).format(Number(t))}catch(o){return console.error(o),new Intl.NumberFormat(void 0,d(t,n)).format(Number(t))}return!Number.isNaN(Number(t))&&""!==t&&(null==e?void 0:e.number_format)===i.y4.none&&Intl?new Intl.NumberFormat("en-US",d(t,Object.assign(Object.assign({},n),{},{useGrouping:!1}))).format(Number(t)):"string"==typeof t?t:"".concat((0,r.N)(t,null==n?void 0:n.maximumFractionDigits).toString()).concat("currency"===(null==n?void 0:n.style)?" ".concat(n.currency):"")},c=function(t,e){var n,i=null==e?void 0:e.display_precision;return null!=i?{maximumFractionDigits:i,minimumFractionDigits:i}:Number.isInteger(Number(null==t||null===(n=t.attributes)||void 0===n?void 0:n.step))&&Number.isInteger(Number(null==t?void 0:t.state))?{maximumFractionDigits:0}:void 0},d=function(t,e){var n=Object.assign({maximumFractionDigits:2},e);if("string"!=typeof t)return n;if(!e||void 0===e.minimumFractionDigits&&void 0===e.maximumFractionDigits){var i=t.indexOf(".")>-1?t.split(".")[1].length:0;n.minimumFractionDigits=i,n.maximumFractionDigits=i}return n}},68307:function(t,e,n){n.d(e,{K:function(){return i}});var i=function(t){switch(null==t?void 0:t.language){case"cz":case"de":case"fi":case"fr":case"sk":case"sv":return" ";default:return""}}},39258:function(t,e,n){n.d(e,{U:function(){return h}});var i=n(55070),r=n(15838),a=n(89525),o=n(58831),u=n(6229),s=n(56007),c=n(22134),d={media_player:{paused:.5,idle:1},vacuum:{returning:.5}};var l=0,f=new Map;function h(t,e,n){return function(t,e,n){var i;if(!n||t===s.nZ)return(0,c.g)("--history-unavailable-color",e);if(t===s.lz)return(0,c.g)("--history-unknown-color",e);var l=(0,u.tD)(n,t);if(l){var f=(0,c.g)(l,e);if(f){var h=(0,o.M)(n.entity_id),m=null===(i=d[h])||void 0===i?void 0:i[t];return m?(0,r.uO)((0,a.C)((0,r.Rw)((0,r.wK)(f)),m)):f}}}(t,e,n)||function(t,e){if(f.has(t))return f.get(t);var n=(0,i.hZ)(l,e);return l++,f.set(t,n),n}(t,e)}},31206:function(t,e,n){n.r(e),n.d(e,{HaCircularProgress:function(){return _}});var i,r=n(88962),a=n(33368),o=n(71650),u=n(82390),s=n(69205),c=n(70906),d=n(91808),l=n(34541),f=n(47838),h=n(30879),m=n(68144),v=n(79932),_=(0,d.Z)([(0,v.Mo)("ha-circular-progress")],(function(t,e){var n=function(e){(0,s.Z)(i,e);var n=(0,c.Z)(i);function i(){var e;(0,o.Z)(this,i);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=n.call.apply(n,[this].concat(a)),t((0,u.Z)(e)),e}return(0,a.Z)(i)}(e);return{F:n,d:[{kind:"field",decorators:[(0,v.Cb)({type:Boolean})],key:"active",value:function(){return!1}},{kind:"field",decorators:[(0,v.Cb)()],key:"alt",value:function(){return"Loading"}},{kind:"field",decorators:[(0,v.Cb)()],key:"size",value:function(){return"medium"}},{kind:"set",key:"density",value:function(t){}},{kind:"get",key:"density",value:function(){switch(this.size){case"tiny":return-8;case"small":return-5;case"medium":default:return 0;case"large":return 5}}},{kind:"set",key:"indeterminate",value:function(t){}},{kind:"get",key:"indeterminate",value:function(){return this.active}},{kind:"get",static:!0,key:"styles",value:function(){return[(0,l.Z)((0,f.Z)(n),"styles",this),(0,m.iv)(i||(i=(0,r.Z)([":host{overflow:hidden}"])))]}}]}}),h.D)},73366:function(t,e,n){n.d(e,{M:function(){return g}});var i,r=n(88962),a=n(33368),o=n(71650),u=n(82390),s=n(69205),c=n(70906),d=n(91808),l=n(34541),f=n(47838),h=n(61092),m=n(96762),v=n(68144),_=n(79932),g=(0,d.Z)([(0,_.Mo)("ha-list-item")],(function(t,e){var n=function(e){(0,s.Z)(i,e);var n=(0,c.Z)(i);function i(){var e;(0,o.Z)(this,i);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=n.call.apply(n,[this].concat(a)),t((0,u.Z)(e)),e}return(0,a.Z)(i)}(e);return{F:n,d:[{kind:"method",key:"renderRipple",value:function(){return this.noninteractive?"":(0,l.Z)((0,f.Z)(n.prototype),"renderRipple",this).call(this)}},{kind:"get",static:!0,key:"styles",value:function(){return[m.W,(0,v.iv)(i||(i=(0,r.Z)([":host{padding-left:var(--mdc-list-side-padding-left,var(--mdc-list-side-padding,20px));padding-right:var(--mdc-list-side-padding-right,var(--mdc-list-side-padding,20px))}:host([graphic=avatar]:not([twoLine])),:host([graphic=icon]:not([twoLine])){height:48px}span.material-icons:first-of-type{margin-inline-start:0px!important;margin-inline-end:var(--mdc-list-item-graphic-margin,16px)!important;direction:var(--direction)}span.material-icons:last-of-type{margin-inline-start:auto!important;margin-inline-end:0px!important;direction:var(--direction)}.mdc-deprecated-list-item__meta{display:var(--mdc-list-item-meta-display);align-items:center}:host([multiline-secondary]){height:auto}:host([multiline-secondary]) .mdc-deprecated-list-item__text{padding:8px 0}:host([multiline-secondary]) .mdc-deprecated-list-item__secondary-text{text-overflow:initial;white-space:normal;overflow:auto;display:inline-block;margin-top:10px}:host([multiline-secondary]) .mdc-deprecated-list-item__primary-text{margin-top:10px}:host([multiline-secondary]) .mdc-deprecated-list-item__secondary-text::before{display:none}:host([multiline-secondary]) .mdc-deprecated-list-item__primary-text::before{display:none}:host([disabled]){color:var(--disabled-text-color)}:host([noninteractive]){pointer-events:unset}"])))]}}]}}),h.K)},36226:function(t,e,n){var i,r=n(88962),a=n(33368),o=n(71650),u=n(82390),s=n(69205),c=n(70906),d=n(91808),l=n(67625),f=n(71711),h=n(68144),m=n(79932);(0,d.Z)([(0,m.Mo)("ha-top-app-bar-fixed")],(function(t,e){var n=function(e){(0,s.Z)(i,e);var n=(0,c.Z)(i);function i(){var e;(0,o.Z)(this,i);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=n.call.apply(n,[this].concat(a)),t((0,u.Z)(e)),e}return(0,a.Z)(i)}(e);return{F:n,d:[{kind:"field",static:!0,key:"styles",value:function(){return[f.W,(0,h.iv)(i||(i=(0,r.Z)([".mdc-top-app-bar__row{height:var(--header-height);border-bottom:var(--app-header-border-bottom)}.mdc-top-app-bar--fixed-adjust{padding-top:var(--header-height)}.mdc-top-app-bar{--mdc-typography-headline6-font-weight:400;color:var(--app-header-text-color,var(--mdc-theme-on-primary,#fff));background-color:var(--app-header-background-color,var(--mdc-theme-primary))}"])))]}}]}}),l.s)},3542:function(t,e,n){n.r(e);var i,r,a,o,u,s,c,d,l=n(53709),f=n(40039),h=n(99312),m=n(81043),v=n(88962),_=n(33368),g=n(71650),y=n(82390),p=n(69205),k=n(70906),b=n(91808),Z=n(34541),w=n(47838),D=n(72277),z=n(68144),x=n(79932),L=n(76680),C=n(85157),I=n(83849),V=n(69934),F=n(15493),S=n(87744),N=n(62336),P=(n(51324),n(31206),n(29272),n(10983),n(2315),n(48932),n(63681),n(36226),n(57066)),T=n(57292),H=n(74186),O=n(58763),M=n(41499),E=n(73826),B=n(11654),j=(0,b.Z)(null,(function(t,e){var n,b=function(e){(0,p.Z)(i,e);var n=(0,k.Z)(i);function i(){var e;(0,g.Z)(this,i),e=n.call(this),t((0,y.Z)(e));var r=new Date;r.setHours(r.getHours()-1,0,0,0),e._startDate=r;var a=new Date;return a.setHours(a.getHours()+2,0,0,0),e._endDate=a,e}return(0,_.Z)(i)}(e);return{F:b,d:[{kind:"field",decorators:[(0,x.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,x.Cb)({reflect:!0,type:Boolean})],key:"narrow",value:void 0},{kind:"field",decorators:[(0,x.Cb)({reflect:!0,type:Boolean})],key:"rtl",value:function(){return!1}},{kind:"field",decorators:[(0,x.SB)()],key:"_startDate",value:void 0},{kind:"field",decorators:[(0,x.SB)()],key:"_endDate",value:void 0},{kind:"field",decorators:[(0,C.t)({key:"historyPickedValue",state:!0,subscribe:!1})],key:"_targetPickerValue",value:void 0},{kind:"field",decorators:[(0,x.SB)()],key:"_isLoading",value:function(){return!1}},{kind:"field",decorators:[(0,x.SB)()],key:"_stateHistory",value:void 0},{kind:"field",decorators:[(0,x.SB)()],key:"_deviceEntityLookup",value:void 0},{kind:"field",decorators:[(0,x.SB)()],key:"_areaEntityLookup",value:void 0},{kind:"field",decorators:[(0,x.SB)()],key:"_areaDeviceLookup",value:void 0},{kind:"field",decorators:[(0,x.SB)()],key:"_showBack",value:void 0},{kind:"field",decorators:[(0,x.IO)("state-history-charts")],key:"_stateHistoryCharts",value:void 0},{kind:"field",key:"_subscribed",value:void 0},{kind:"field",key:"_interval",value:void 0},{kind:"method",key:"connectedCallback",value:function(){(0,Z.Z)((0,w.Z)(b.prototype),"connectedCallback",this).call(this),this.hasUpdated&&this._getHistory()}},{kind:"method",key:"disconnectedCallback",value:function(){(0,Z.Z)((0,w.Z)(b.prototype),"disconnectedCallback",this).call(this),this._unsubscribeHistory()}},{kind:"method",key:"hassSubscribe",value:function(){var t=this;return[(0,H.LM)(this.hass.connection,(function(e){t._deviceEntityLookup=(0,T.pI)(e),t._areaEntityLookup=(0,P.TD)(e)})),(0,T.q4)(this.hass.connection,(function(e){t._areaDeviceLookup=(0,P.Dl)(e)}))]}},{kind:"method",key:"_goBack",value:function(){history.back()}},{kind:"method",key:"render",value:function(){return(0,z.dy)(i||(i=(0,v.Z)([" <ha-top-app-bar-fixed> ",' <div slot="title">',"</div> ",' <ha-icon-button slot="actionItems" @click="','" .disabled="','" .path="','" .label="','"></ha-icon-button> <div class="flex content"> <div class="filters"> <ha-date-range-picker .hass="','" ?disabled="','" .startDate="','" .endDate="','" @change="','"></ha-date-range-picker> <ha-target-picker .hass="','" .value="','" .disabled="','" addOnTop @value-changed="','"></ha-target-picker> </div> '," </div> </ha-top-app-bar-fixed> "])),this._showBack?(0,z.dy)(r||(r=(0,v.Z)([' <ha-icon-button-arrow-prev slot="navigationIcon" @click="','"></ha-icon-button-arrow-prev> '])),this._goBack):(0,z.dy)(a||(a=(0,v.Z)([' <ha-menu-button slot="navigationIcon" .hass="','" .narrow="','"></ha-menu-button> '])),this.hass,this.narrow),this.hass.localize("panel.history"),this._targetPickerValue?(0,z.dy)(o||(o=(0,v.Z)([' <ha-icon-button slot="actionItems" @click="','" .disabled="','" .path="','" .label="','"></ha-icon-button> '])),this._removeAll,this._isLoading,"M14.76,20.83L17.6,18L14.76,15.17L16.17,13.76L19,16.57L21.83,13.76L23.24,15.17L20.43,18L23.24,20.83L21.83,22.24L19,19.4L16.17,22.24L14.76,20.83M12,12V19.88C12.04,20.18 11.94,20.5 11.71,20.71C11.32,21.1 10.69,21.1 10.3,20.71L8.29,18.7C8.06,18.47 7.96,18.16 8,17.87V12H7.97L2.21,4.62C1.87,4.19 1.95,3.56 2.38,3.22C2.57,3.08 2.78,3 3,3V3H17V3C17.22,3 17.43,3.08 17.62,3.22C18.05,3.56 18.13,4.19 17.79,4.62L12.03,12H12Z",this.hass.localize("ui.panel.history.remove_all")):"",this._getHistory,this._isLoading||!this._targetPickerValue,"M17.65,6.35C16.2,4.9 14.21,4 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20C15.73,20 18.84,17.45 19.73,14H17.65C16.83,16.33 14.61,18 12,18A6,6 0 0,1 6,12A6,6 0 0,1 12,6C13.66,6 15.14,6.69 16.22,7.78L13,11H20V4L17.65,6.35Z",this.hass.localize("ui.common.refresh"),this.hass,this._isLoading,this._startDate,this._endDate,this._dateRangeChanged,this.hass,this._targetPickerValue,this._isLoading,this._targetsChanged,this._isLoading?(0,z.dy)(u||(u=(0,v.Z)(['<div class="progress-wrapper"> <ha-circular-progress active alt="','"></ha-circular-progress> </div>'])),this.hass.localize("ui.common.loading")):this._targetPickerValue?(0,z.dy)(c||(c=(0,v.Z)([' <state-history-charts .hass="','" .historyData="','" .startTime="','" .endTime="','"> </state-history-charts> '])),this.hass,this._stateHistory,this._startDate,this._endDate):(0,z.dy)(s||(s=(0,v.Z)(['<div class="start-search"> '," </div>"])),this.hass.localize("ui.panel.history.start_search")))}},{kind:"method",key:"willUpdate",value:function(t){if((0,Z.Z)((0,w.Z)(b.prototype),"willUpdate",this).call(this,t),!this.hasUpdated){var e=(0,F.Q2)(),n=e.entity_id,i=e.device_id,r=e.area_id;if((n||i||r)&&(this._targetPickerValue={}),n){var a=n.split(",");this._targetPickerValue.entity_id=a}if(i){var o=i.split(",");this._targetPickerValue.device_id=o}if(r){var u=r.split(",");this._targetPickerValue.area_id=u}var s=e.start_date;s&&(this._startDate=new Date(s));var c=e.end_date;c&&(this._endDate=new Date(c))}}},{kind:"method",key:"firstUpdated",value:function(t){(0,Z.Z)((0,w.Z)(b.prototype),"firstUpdated",this).call(this,t),"1"===(0,F.Q2)().back&&history.length>1&&(this._showBack=!0,(0,I.c)((0,V.q)((0,F.pc)("back")),{replace:!0}))}},{kind:"method",key:"updated",value:function(t){if(this._targetPickerValue&&(t.has("_startDate")||t.has("_endDate")||t.has("_targetPickerValue")||!this._stateHistory&&(t.has("_deviceEntityLookup")||t.has("_areaEntityLookup")||t.has("_areaDeviceLookup")))&&this._getHistory(),t.has("hass")||t.has("_entities")){var e=t.get("hass");e&&e.language===this.hass.language||(this.rtl=(0,S.HE)(this.hass))}}},{kind:"method",key:"_removeAll",value:function(){this._targetPickerValue=void 0,this._updatePath()}},{kind:"method",key:"_getHistory",value:(n=(0,m.Z)((0,h.Z)().mark((function t(){var e,n,i,r,a=this;return(0,h.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._targetPickerValue){t.next=2;break}return t.abrupt("return");case 2:if(this._isLoading=!0,void 0!==(e=this._getEntityIds())){t.next=8;break}return this._isLoading=!1,this._stateHistory=void 0,t.abrupt("return");case 8:if(0!==e.length){t.next=12;break}return this._isLoading=!1,this._stateHistory={line:[],timeline:[]},t.abrupt("return");case 12:return this._subscribed&&this._unsubscribeHistory(),n=new Date,t.next=16,(0,M.ib)(this.hass);case 16:i=t.sent,r=i.numeric_device_classes,this._subscribed=(0,O.Vk)(this.hass,(function(t){a._isLoading=!1,a._stateHistory=(0,O.Nu)(a.hass,t,a.hass.localize,r)}),this._startDate,this._endDate,e),this._subscribed.catch((function(){a._isLoading=!1,a._unsubscribeHistory()})),this._endDate>n&&this._setRedrawTimer();case 21:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{kind:"method",key:"_setRedrawTimer",value:function(){var t=this;clearInterval(this._interval);var e=new Date,n=this._endDate>e?e:this._endDate,i=(0,D.Z)(n,this._startDate);this._interval=window.setInterval((function(){var e;return null===(e=t._stateHistoryCharts)||void 0===e?void 0:e.requestUpdate()}),i<2?1e4:i<10?6e4:N.Q)}},{kind:"method",key:"_unsubscribeHistory",value:function(){this._interval&&(clearInterval(this._interval),this._interval=void 0),this._subscribed&&(this._subscribed.then((function(t){return null==t?void 0:t()})),this._subscribed=void 0)}},{kind:"method",key:"_getEntityIds",value:function(){if(this._targetPickerValue&&void 0!==this._deviceEntityLookup&&void 0!==this._areaEntityLookup&&void 0!==this._areaDeviceLookup){var t=new Set,e=this._targetPickerValue,n=e.area_id,i=e.device_id,r=e.entity_id;if(n){n=(0,L.r)(n);var a,o=(0,f.Z)(n);try{for(o.s();!(a=o.n()).done;){var u=a.value,s=this._areaEntityLookup[u];if(null!=s&&s.length){var c,d=(0,f.Z)(s);try{for(d.s();!(c=d.n()).done;){var h=c.value;null===h.entity_category&&t.add(h.entity_id)}}catch(N){d.e(N)}finally{d.f()}}var m=this._areaDeviceLookup[u];if(null!=m&&m.length){var v,_=(0,f.Z)(m);try{for(_.s();!(v=_.n()).done;){var g=v.value,y=this._deviceEntityLookup[g.id];if(null!=y&&y.length){var p,k=(0,f.Z)(y);try{for(k.s();!(p=k.n()).done;){var b=p.value;b.area_id&&b.area_id!==u||null!==b.entity_category||t.add(b.entity_id)}}catch(N){k.e(N)}finally{k.f()}}}}catch(N){_.e(N)}finally{_.f()}}}}catch(N){o.e(N)}finally{o.f()}}if(i){i=(0,L.r)(i);var Z,w=(0,f.Z)(i);try{for(w.s();!(Z=w.n()).done;){var D=Z.value,z=this._deviceEntityLookup[D];if(null!=z&&z.length){var x,C=(0,f.Z)(z);try{for(C.s();!(x=C.n()).done;){var I=x.value;null===I.entity_category&&t.add(I.entity_id)}}catch(N){C.e(N)}finally{C.f()}}}}catch(N){w.e(N)}finally{w.f()}}if(r){r=(0,L.r)(r);var V,F=(0,f.Z)(r);try{for(F.s();!(V=F.n()).done;){var S=V.value;t.add(S)}}catch(N){F.e(N)}finally{F.f()}}return(0,l.Z)(t)}}},{kind:"method",key:"_dateRangeChanged",value:function(t){this._startDate=t.detail.startDate;var e=t.detail.endDate;0===e.getHours()&&0===e.getMinutes()&&(e.setDate(e.getDate()+1),e.setMilliseconds(e.getMilliseconds()-1)),this._endDate=e,this._updatePath()}},{kind:"method",key:"_targetsChanged",value:function(t){this._targetPickerValue=t.detail.value,this._updatePath()}},{kind:"method",key:"_updatePath",value:function(){var t={};this._targetPickerValue&&(this._targetPickerValue.entity_id&&(t.entity_id=(0,L.r)(this._targetPickerValue.entity_id).join(",")),this._targetPickerValue.area_id&&(t.area_id=(0,L.r)(this._targetPickerValue.area_id).join(",")),this._targetPickerValue.device_id&&(t.device_id=(0,L.r)(this._targetPickerValue.device_id).join(","))),this._startDate&&(t.start_date=this._startDate.toISOString()),this._endDate&&(t.end_date=this._endDate.toISOString()),(0,I.c)("/history?".concat((0,F.ou)(t)),{replace:!0})}},{kind:"get",static:!0,key:"styles",value:function(){return[B.Qx,(0,z.iv)(d||(d=(0,v.Z)([".content{padding:0 16px 16px;padding-bottom:max(env(safe-area-inset-bottom),16px)}:host([virtualize]){height:100%}.progress-wrapper{position:relative;display:flex;align-items:center;flex-direction:column;padding:16px}.filters{display:flex;align-items:flex-start;margin-top:16px}ha-date-range-picker{margin-right:16px;margin-inline-end:16px;margin-inline-start:initial;max-width:100%;direction:var(--direction)}@media all and (max-width:1025px){.filters{flex-direction:column}ha-date-range-picker{margin-right:0;margin-inline-end:0;width:100%}}.start-search{padding-top:16px;text-align:center;color:var(--secondary-text-color)}"])))]}}]}}),(0,E.f)(z.oi));customElements.define("ha-panel-history",j)},4631:function(t,e,n){n.r(e);n(7151),n(33633),n(25534),n(64827),n(23044),n(1437),n(87520),n(42661),n(78337),n(87065),n(6042),n(19440),n(50897),n(30056),n(12679)},44281:function(t,e,n){n.d(e,{j:function(){return a}});var i=n(99312),r=n(81043),a=function(){var t=(0,r.Z)((0,i.Z)().mark((function t(){return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,new ResizeObserver((function(){})),t.next=9;break;case 4:return t.prev=4,t.t0=t.catch(0),t.next=8,n.e(5442).then(n.bind(n,5442));case 8:window.ResizeObserver=t.sent.default;case 9:case"end":return t.stop()}}),t,null,[[0,4]])})));return function(){return t.apply(this,arguments)}}()}}]);
//# sourceMappingURL=50207-QLeSntLZ-Y8.js.map