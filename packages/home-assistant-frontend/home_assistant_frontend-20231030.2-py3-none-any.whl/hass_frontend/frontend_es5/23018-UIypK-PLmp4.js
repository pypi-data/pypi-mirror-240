"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[23018],{62336:function(t,i,e){e.d(i,{Q:function(){return j}});var n,a,o,s,d,r,l,h,c,u=e(53709),p=e(99312),v=e(81043),f=e(93359),g=e(88962),b=e(33368),k=e(71650),y=e(82390),_=e(69205),x=e(70906),C=e(91808),m=e(34541),Z=e(47838),w=e(68144),T=e(79932),U=e(83448),H=e(47501),S=e(50239),O=e(87744),D=e(38346),j=3e5;(0,C.Z)([(0,T.Mo)("ha-chart-base")],(function(t,i){var C,j=function(i){(0,_.Z)(n,i);var e=(0,x.Z)(n);function n(){var i;(0,k.Z)(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return i=e.call.apply(e,[this].concat(o)),t((0,y.Z)(i)),i}return(0,b.Z)(n)}(i);return{F:j,d:[{kind:"field",key:"chart",value:void 0},{kind:"field",decorators:[(0,T.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,T.Cb)({attribute:"chart-type",reflect:!0})],key:"chartType",value:function(){return"line"}},{kind:"field",decorators:[(0,T.Cb)({attribute:!1})],key:"data",value:function(){return{datasets:[]}}},{kind:"field",decorators:[(0,T.Cb)({attribute:!1})],key:"options",value:void 0},{kind:"field",decorators:[(0,T.Cb)({attribute:!1})],key:"plugins",value:void 0},{kind:"field",decorators:[(0,T.Cb)({type:Number})],key:"height",value:void 0},{kind:"field",decorators:[(0,T.Cb)({type:Number})],key:"paddingYAxis",value:function(){return 0}},{kind:"field",decorators:[(0,T.SB)()],key:"_chartHeight",value:void 0},{kind:"field",decorators:[(0,T.SB)()],key:"_tooltip",value:void 0},{kind:"field",decorators:[(0,T.SB)()],key:"_hiddenDatasets",value:function(){return new Set}},{kind:"field",key:"_paddingUpdateCount",value:function(){return 0}},{kind:"field",key:"_paddingUpdateLock",value:function(){return!1}},{kind:"field",key:"_paddingYAxisInternal",value:function(){return 0}},{kind:"method",key:"disconnectedCallback",value:function(){(0,m.Z)((0,Z.Z)(j.prototype),"disconnectedCallback",this).call(this),this._releaseCanvas()}},{kind:"method",key:"connectedCallback",value:function(){(0,m.Z)((0,Z.Z)(j.prototype),"connectedCallback",this).call(this),this.hasUpdated&&(this._releaseCanvas(),this._setupChart())}},{kind:"field",key:"updateChart",value:function(){var t=this;return function(i){var e;null===(e=t.chart)||void 0===e||e.update(i)}}},{kind:"field",key:"resize",value:function(){var t=this;return function(i){var e,n,a,o;if(null!=i&&i.aspectRatio&&!i.height)i.height=Math.round((null!==(o=i.width)&&void 0!==o?o:t.clientWidth)/i.aspectRatio);else if(null!=i&&i.aspectRatio&&!i.width){var s;i.width=Math.round((null!==(s=i.height)&&void 0!==s?s:t.clientHeight)*i.aspectRatio)}null===(e=t.chart)||void 0===e||e.resize(null!==(n=null==i?void 0:i.width)&&void 0!==n?n:t.clientWidth,null!==(a=null==i?void 0:i.height)&&void 0!==a?a:t.clientHeight)}}},{kind:"method",key:"firstUpdated",value:function(){var t=this;this._setupChart(),this.data.datasets.forEach((function(i,e){i.hidden&&t._hiddenDatasets.add(e)}))}},{kind:"method",key:"shouldUpdate",value:function(t){return!this._paddingUpdateLock||1!==t.size||!t.has("paddingYAxis")}},{kind:"field",key:"_debouncedClearUpdates",value:function(){var t=this;return(0,D.D)((function(){t._paddingUpdateCount=0}),2e3,!1)}},{kind:"method",key:"willUpdate",value:function(t){var i=this;if((0,m.Z)((0,Z.Z)(j.prototype),"willUpdate",this).call(this,t),this._paddingUpdateLock||(this._paddingYAxisInternal=this.paddingYAxis,1===t.size&&t.has("paddingYAxis")&&(this._paddingUpdateCount++,this._paddingUpdateCount>300?(this._paddingUpdateLock=!0,console.error("Detected excessive chart padding updates, possibly an infinite loop. Disabling axis padding.")):this._debouncedClearUpdates())),this.hasUpdated&&this.chart){if(t.has("plugins")||t.has("chartType"))return this._releaseCanvas(),void this._setupChart();t.has("data")&&(this._hiddenDatasets.size&&this.data.datasets.forEach((function(t,e){t.hidden=i._hiddenDatasets.has(e)})),this.chart.data=this.data),t.has("options")&&(this.chart.options=this._createOptions()),this.chart.update("none")}}},{kind:"method",key:"render",value:function(){var t,i,e,c=this;return(0,w.dy)(n||(n=(0,g.Z)([" ",' <div class="animationContainer" style="','"> <div class="chartContainer" style="','"> <canvas></canvas> '," </div> </div> "])),!0===(null===(t=this.options)||void 0===t||null===(t=t.plugins)||void 0===t||null===(t=t.legend)||void 0===t?void 0:t.display)?(0,w.dy)(a||(a=(0,g.Z)(['<div class="chartLegend"> <ul> '," </ul> </div>"])),this.data.datasets.map((function(t,i){return(0,w.dy)(o||(o=(0,g.Z)(['<li .datasetIndex="','" @click="','" class="','" .title="','"> <div class="bullet" style="','"></div> <div class="label">',"</div> </li>"])),i,c._legendClick,(0,U.$)({hidden:c._hiddenDatasets.has(i)}),t.label,(0,H.V)({backgroundColor:t.backgroundColor,borderColor:t.borderColor}),t.label)}))):"",(0,H.V)({height:"".concat(this.height||this._chartHeight||0,"px"),overflow:this._chartHeight?"initial":"hidden"}),(0,H.V)({height:"".concat(null!==(i=null!==(e=this.height)&&void 0!==e?e:this._chartHeight)&&void 0!==i?i:this.clientWidth/2,"px"),"padding-left":"".concat((0,O.HE)(this.hass)?0:this._paddingYAxisInternal,"px"),"padding-right":"".concat((0,O.HE)(this.hass)?this._paddingYAxisInternal:0,"px")}),this._tooltip?(0,w.dy)(s||(s=(0,g.Z)(['<div class="chartTooltip ','" style="','"> <div class="title">',"</div> "," <div> <ul> "," </ul> </div> "," </div>"])),(0,U.$)((0,f.Z)({},this._tooltip.yAlign,!0)),(0,H.V)({top:this._tooltip.top,left:this._tooltip.left}),this._tooltip.title,this._tooltip.beforeBody?(0,w.dy)(d||(d=(0,g.Z)(['<div class="beforeBody"> '," </div>"])),this._tooltip.beforeBody):"",this._tooltip.body.map((function(t,i){return(0,w.dy)(r||(r=(0,g.Z)(['<li> <div class="bullet" style="','"></div> '," </li>"])),(0,H.V)({backgroundColor:c._tooltip.labelColors[i].backgroundColor,borderColor:c._tooltip.labelColors[i].borderColor}),t.lines.join("\n"))})),this._tooltip.footer.length?(0,w.dy)(l||(l=(0,g.Z)(['<div class="footer"> '," </div>"])),this._tooltip.footer.map((function(t){return(0,w.dy)(h||(h=(0,g.Z)(["","<br>"])),t)}))):""):"")}},{kind:"method",key:"_setupChart",value:(C=(0,v.Z)((0,p.Z)().mark((function t(){var i,n,a;return(0,p.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.renderRoot.querySelector("canvas").getContext("2d"),t.next=3,Promise.all([e.e(23254),e.e(69519),e.e(25843),e.e(13419),e.e(48324)]).then(e.bind(e,48324));case 3:n=t.sent.Chart,a=getComputedStyle(this),n.defaults.borderColor=a.getPropertyValue("--divider-color"),n.defaults.color=a.getPropertyValue("--secondary-text-color"),n.defaults.font.family=a.getPropertyValue("--mdc-typography-body1-font-family")||a.getPropertyValue("--mdc-typography-font-family")||"Roboto, Noto, sans-serif",this.chart=new n(i,{type:this.chartType,data:this.data,options:this._createOptions(),plugins:this._createPlugins()});case 9:case"end":return t.stop()}}),t,this)}))),function(){return C.apply(this,arguments)})},{kind:"method",key:"_createOptions",value:function(){var t,i,e,n=this;return Object.assign(Object.assign({maintainAspectRatio:!1},this.options),{},{plugins:Object.assign(Object.assign({},null===(t=this.options)||void 0===t?void 0:t.plugins),{},{tooltip:Object.assign(Object.assign({},null===(i=this.options)||void 0===i||null===(i=i.plugins)||void 0===i?void 0:i.tooltip),{},{enabled:!1,external:function(t){return n._handleTooltip(t)}}),legend:Object.assign(Object.assign({},null===(e=this.options)||void 0===e||null===(e=e.plugins)||void 0===e?void 0:e.legend),{},{display:!1})})})}},{kind:"method",key:"_createPlugins",value:function(){var t,i=this;return[].concat((0,u.Z)(this.plugins||[]),[{id:"resizeHook",resize:function(t){var e,n=t.height-(null!==(e=i._chartHeight)&&void 0!==e?e:0);(!i._chartHeight||n>12||n<-12)&&(i._chartHeight=t.height)},legend:Object.assign(Object.assign({},null===(t=this.options)||void 0===t||null===(t=t.plugins)||void 0===t?void 0:t.legend),{},{display:!1})}])}},{kind:"method",key:"_legendClick",value:function(t){if(this.chart){var i=t.currentTarget.datasetIndex;this.chart.isDatasetVisible(i)?(this.chart.setDatasetVisibility(i,!1),this._hiddenDatasets.add(i)):(this.chart.setDatasetVisibility(i,!0),this._hiddenDatasets.delete(i)),this.chart.update("none"),this.requestUpdate("_hiddenDatasets")}}},{kind:"method",key:"_handleTooltip",value:function(t){0!==t.tooltip.opacity?this._tooltip=Object.assign(Object.assign({},t.tooltip),{},{top:this.chart.canvas.offsetTop+t.tooltip.caretY+12+"px",left:this.chart.canvas.offsetLeft+(0,S.u)(t.tooltip.caretX,100,this.clientWidth-100-this._paddingYAxisInternal)-100+"px"}):this._tooltip=void 0}},{kind:"method",key:"_releaseCanvas",value:function(){this.chart&&this.chart.destroy()}},{kind:"get",static:!0,key:"styles",value:function(){return(0,w.iv)(c||(c=(0,g.Z)([":host{display:block;position:var(--chart-base-position,relative)}.animationContainer{overflow:hidden;height:0;transition:height .3s cubic-bezier(.4,0,.2,1)}canvas{max-height:var(--chart-max-height,400px)}.chartLegend{text-align:center}.chartLegend li{cursor:pointer;display:inline-grid;grid-auto-flow:column;padding:0 8px;box-sizing:border-box;align-items:center;color:var(--secondary-text-color)}.chartLegend .hidden{text-decoration:line-through}.chartLegend .label{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.chartLegend .bullet,.chartTooltip .bullet{border-width:1px;border-style:solid;border-radius:50%;display:inline-block;height:16px;margin-right:6px;width:16px;flex-shrink:0;box-sizing:border-box;margin-inline-end:6px;margin-inline-start:initial;direction:var(--direction)}.chartTooltip .bullet{align-self:baseline}:host([rtl]) .chartLegend .bullet,:host([rtl]) .chartTooltip .bullet{margin-right:inherit;margin-left:6px;margin-inline-end:inherit;margin-inline-start:6px;direction:var(--direction)}.chartTooltip{padding:8px;font-size:90%;position:absolute;background:rgba(80,80,80,.9);color:#fff;border-radius:4px;pointer-events:none;z-index:1000;width:200px;box-sizing:border-box}:host([rtl]) .chartTooltip{direction:rtl}.chartLegend ul,.chartTooltip ul{display:inline-block;padding:0 0px;margin:8px 0 0 0;width:100%}.chartTooltip ul{margin:0 4px}.chartTooltip li{display:flex;white-space:pre-line;align-items:center;line-height:16px;padding:4px 0}.chartTooltip .title{text-align:center;font-weight:500;direction:ltr}.chartTooltip .footer{font-weight:500}.chartTooltip .beforeBody{text-align:center;font-weight:300;word-break:break-all}"])))}}]}}),w.oi)},73826:function(t,i,e){e.d(i,{f:function(){return p}});var n=e(40039),a=e(33368),o=e(71650),s=e(82390),d=e(69205),r=e(70906),l=e(91808),h=e(34541),c=e(47838),u=e(79932),p=function(t){var i=(0,l.Z)(null,(function(t,i){var e=function(i){(0,d.Z)(n,i);var e=(0,r.Z)(n);function n(){var i;(0,o.Z)(this,n);for(var a=arguments.length,d=new Array(a),r=0;r<a;r++)d[r]=arguments[r];return i=e.call.apply(e,[this].concat(d)),t((0,s.Z)(i)),i}return(0,a.Z)(n)}(i);return{F:e,d:[{kind:"field",decorators:[(0,u.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",key:"hassSubscribeRequiredHostProps",value:void 0},{kind:"field",key:"__unsubs",value:void 0},{kind:"method",key:"connectedCallback",value:function(){(0,h.Z)((0,c.Z)(e.prototype),"connectedCallback",this).call(this),this.__checkSubscribed()}},{kind:"method",key:"disconnectedCallback",value:function(){if((0,h.Z)((0,c.Z)(e.prototype),"disconnectedCallback",this).call(this),this.__unsubs){for(;this.__unsubs.length;){var t=this.__unsubs.pop();t instanceof Promise?t.then((function(t){return t()})):t()}this.__unsubs=void 0}}},{kind:"method",key:"updated",value:function(t){if((0,h.Z)((0,c.Z)(e.prototype),"updated",this).call(this,t),t.has("hass"))this.__checkSubscribed();else if(this.hassSubscribeRequiredHostProps){var i,a=(0,n.Z)(t.keys());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(this.hassSubscribeRequiredHostProps.includes(o))return void this.__checkSubscribed()}}catch(s){a.e(s)}finally{a.f()}}}},{kind:"method",key:"hassSubscribe",value:function(){return[]}},{kind:"method",key:"__checkSubscribed",value:function(){var t,i=this;void 0!==this.__unsubs||!this.isConnected||void 0===this.hass||null!==(t=this.hassSubscribeRequiredHostProps)&&void 0!==t&&t.some((function(t){return void 0===i[t]}))||(this.__unsubs=this.hassSubscribe())}}]}}),t);return i}}}]);
//# sourceMappingURL=23018-UIypK-PLmp4.js.map