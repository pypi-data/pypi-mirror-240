/*! For license information please see 21948-qigWoTRQSko.js.LICENSE.txt */
export const id=21948;export const ids=[21948];export const modules={30879:(e,r,i)=>{i.d(r,{D:()=>u});var t=i(43204),o=i(79932),s=i(38103),a=i(68144),n=i(83448),c=i(30153),d=i(47501);class l extends a.oi{constructor(){super(...arguments),this.indeterminate=!1,this.progress=0,this.density=0,this.closed=!1}open(){this.closed=!1}close(){this.closed=!0}render(){const e={"mdc-circular-progress--closed":this.closed,"mdc-circular-progress--indeterminate":this.indeterminate},r=48+4*this.density,i={width:`${r}px`,height:`${r}px`};return a.dy` <div class="mdc-circular-progress ${(0,n.$)(e)}" style="${(0,d.V)(i)}" role="progressbar" aria-label="${(0,c.o)(this.ariaLabel)}" aria-valuemin="0" aria-valuemax="1" aria-valuenow="${(0,c.o)(this.indeterminate?void 0:this.progress)}"> ${this.renderDeterminateContainer()} ${this.renderIndeterminateContainer()} </div>`}renderDeterminateContainer(){const e=48+4*this.density,r=e/2,i=this.density>=-3?18+11*this.density/6:12.5+5*(this.density+3)/4,t=6.2831852*i,o=(1-this.progress)*t,s=this.density>=-3?4+this.density*(1/3):3+(this.density+3)*(1/6);return a.dy` <div class="mdc-circular-progress__determinate-container"> <svg class="mdc-circular-progress__determinate-circle-graphic" viewBox="0 0 ${e} ${e}"> <circle class="mdc-circular-progress__determinate-track" cx="${r}" cy="${r}" r="${i}" stroke-width="${s}"></circle> <circle class="mdc-circular-progress__determinate-circle" cx="${r}" cy="${r}" r="${i}" stroke-dasharray="${6.2831852*i}" stroke-dashoffset="${o}" stroke-width="${s}"></circle> </svg> </div>`}renderIndeterminateContainer(){return a.dy` <div class="mdc-circular-progress__indeterminate-container"> <div class="mdc-circular-progress__spinner-layer"> ${this.renderIndeterminateSpinnerLayer()} </div> </div>`}renderIndeterminateSpinnerLayer(){const e=48+4*this.density,r=e/2,i=this.density>=-3?18+11*this.density/6:12.5+5*(this.density+3)/4,t=6.2831852*i,o=.5*t,s=this.density>=-3?4+this.density*(1/3):3+(this.density+3)*(1/6);return a.dy` <div class="mdc-circular-progress__circle-clipper mdc-circular-progress__circle-left"> <svg class="mdc-circular-progress__indeterminate-circle-graphic" viewBox="0 0 ${e} ${e}"> <circle cx="${r}" cy="${r}" r="${i}" stroke-dasharray="${t}" stroke-dashoffset="${o}" stroke-width="${s}"></circle> </svg> </div> <div class="mdc-circular-progress__gap-patch"> <svg class="mdc-circular-progress__indeterminate-circle-graphic" viewBox="0 0 ${e} ${e}"> <circle cx="${r}" cy="${r}" r="${i}" stroke-dasharray="${t}" stroke-dashoffset="${o}" stroke-width="${.8*s}"></circle> </svg> </div> <div class="mdc-circular-progress__circle-clipper mdc-circular-progress__circle-right"> <svg class="mdc-circular-progress__indeterminate-circle-graphic" viewBox="0 0 ${e} ${e}"> <circle cx="${r}" cy="${r}" r="${i}" stroke-dasharray="${t}" stroke-dashoffset="${o}" stroke-width="${s}"></circle> </svg> </div>`}update(e){super.update(e),e.has("progress")&&(this.progress>1&&(this.progress=1),this.progress<0&&(this.progress=0))}}(0,t.__decorate)([(0,o.Cb)({type:Boolean,reflect:!0})],l.prototype,"indeterminate",void 0),(0,t.__decorate)([(0,o.Cb)({type:Number,reflect:!0})],l.prototype,"progress",void 0),(0,t.__decorate)([(0,o.Cb)({type:Number,reflect:!0})],l.prototype,"density",void 0),(0,t.__decorate)([(0,o.Cb)({type:Boolean,reflect:!0})],l.prototype,"closed",void 0),(0,t.__decorate)([s.L,(0,o.Cb)({type:String,attribute:"aria-label"})],l.prototype,"ariaLabel",void 0);const h=a.iv`.mdc-circular-progress__determinate-circle,.mdc-circular-progress__indeterminate-circle-graphic{stroke:#6200ee;stroke:var(--mdc-theme-primary,#6200ee)}.mdc-circular-progress__determinate-track{stroke:transparent}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0s cubic-bezier(.4,0,.6,1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:transparent}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset .5s 0s cubic-bezier(0,0,.2,1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1.568s linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(.4,0,.2,1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(.4,0,.2,1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(.4,0,.2,1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(.4,0,.2,1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(.4,0,.2,1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(.4,0,.2,1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(.4,0,.2,1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(.4,0,.2,1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(.4,0,.2,1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(.4,0,.2,1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(.4,0,.2,1) infinite both}.mdc-circular-progress--closed{opacity:0}:host{display:inline-flex}.mdc-circular-progress__determinate-track{stroke:transparent;stroke:var(--mdc-circular-progress-track-color,transparent)}`;let u=class extends l{};u.styles=[h],u=(0,t.__decorate)([(0,o.Mo)("mwc-circular-progress")],u)},55642:(e,r,i)=>{i.d(r,{h:()=>s});var t=i(68144),o=i(57835);const s=(0,o.XM)(class extends o.Xe{constructor(e){if(super(e),this._element=void 0,e.type!==o.pX.CHILD)throw new Error("dynamicElementDirective can only be used in content bindings")}update(e,[r,i]){return this._element&&this._element.localName===r?(i&&Object.entries(i).forEach((([e,r])=>{this._element[e]=r})),t.Jb):this.render(r,i)}render(e,r){return this._element=document.createElement(e),r&&Object.entries(r).forEach((([e,r])=>{this._element[e]=r})),this._element}})},34620:(e,r,i)=>{i.d(r,{p:()=>o});var t=i(38768);const o=(e,r)=>{if(!(r instanceof t.DD))return{warnings:[r.message],errors:void 0};const i=[],o=[];for(const t of r.failures())if(void 0===t.value)i.push(e.localize("ui.errors.config.key_missing",{key:t.path.join(".")}));else if("never"===t.type)o.push(e.localize("ui.errors.config.key_not_expected",{key:t.path.join(".")}));else{if("union"===t.type)continue;"enums"===t.type?o.push(e.localize("ui.errors.config.key_wrong_type",{key:t.path.join("."),type_correct:t.message.replace("Expected ","").split(", ")[0],type_wrong:JSON.stringify(t.value)})):o.push(e.localize("ui.errors.config.key_wrong_type",{key:t.path.join("."),type_correct:t.refinement||t.type,type_wrong:JSON.stringify(t.value)}))}return{warnings:o,errors:i}}},31206:(e,r,i)=>{i.r(r),i.d(r,{HaCircularProgress:()=>d});var t=i(17463),o=i(34541),s=i(47838),a=i(30879),n=i(68144),c=i(79932);let d=(0,t.Z)([(0,c.Mo)("ha-circular-progress")],(function(e,r){class i extends r{constructor(...r){super(...r),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,c.Cb)({type:Boolean})],key:"active",value:()=>!1},{kind:"field",decorators:[(0,c.Cb)()],key:"alt",value:()=>"Loading"},{kind:"field",decorators:[(0,c.Cb)()],key:"size",value:()=>"medium"},{kind:"set",key:"density",value:function(e){}},{kind:"get",key:"density",value:function(){switch(this.size){case"tiny":return-8;case"small":return-5;case"medium":default:return 0;case"large":return 5}}},{kind:"set",key:"indeterminate",value:function(e){}},{kind:"get",key:"indeterminate",value:function(){return this.active}},{kind:"get",static:!0,key:"styles",value:function(){return[(0,o.Z)((0,s.Z)(i),"styles",this),n.iv`:host{overflow:hidden}`]}}]}}),a.D)},33753:(e,r,i)=>{var t=i(17463),o=i(34541),s=i(47838),a=i(68144),n=i(79932),c=i(14516),d=i(47181),l=i(32594);i(81312);const h={key:"Mod-s",run:e=>((0,d.B)(e.dom,"editor-save"),!0)},u=e=>{const r=document.createElement("ha-icon");return r.icon=e.label,r};(0,t.Z)([(0,n.Mo)("ha-code-editor")],(function(e,r){class t extends r{constructor(...r){super(...r),e(this)}}return{F:t,d:[{kind:"field",key:"codemirror",value:void 0},{kind:"field",decorators:[(0,n.Cb)()],key:"mode",value:()=>"yaml"},{kind:"field",key:"hass",value:void 0},{kind:"field",decorators:[(0,n.Cb)({type:Boolean})],key:"autofocus",value:()=>!1},{kind:"field",decorators:[(0,n.Cb)({type:Boolean})],key:"readOnly",value:()=>!1},{kind:"field",decorators:[(0,n.Cb)({type:Boolean,attribute:"autocomplete-entities"})],key:"autocompleteEntities",value:()=>!1},{kind:"field",decorators:[(0,n.Cb)({type:Boolean,attribute:"autocomplete-icons"})],key:"autocompleteIcons",value:()=>!1},{kind:"field",decorators:[(0,n.Cb)({type:Boolean})],key:"error",value:()=>!1},{kind:"field",decorators:[(0,n.SB)()],key:"_value",value:()=>""},{kind:"field",key:"_loadedCodeMirror",value:void 0},{kind:"field",key:"_iconList",value:void 0},{kind:"set",key:"value",value:function(e){this._value=e}},{kind:"get",key:"value",value:function(){return this.codemirror?this.codemirror.state.doc.toString():this._value}},{kind:"get",key:"hasComments",value:function(){if(!this.codemirror||!this._loadedCodeMirror)return!1;const e=this._loadedCodeMirror.highlightingFor(this.codemirror.state,[this._loadedCodeMirror.tags.comment]);return!!this.renderRoot.querySelector(`span.${e}`)}},{kind:"method",key:"connectedCallback",value:function(){(0,o.Z)((0,s.Z)(t.prototype),"connectedCallback",this).call(this),this.hasUpdated&&this.requestUpdate(),this.addEventListener("keydown",l.U),this.codemirror&&!1!==this.autofocus&&this.codemirror.focus()}},{kind:"method",key:"disconnectedCallback",value:function(){(0,o.Z)((0,s.Z)(t.prototype),"disconnectedCallback",this).call(this),this.removeEventListener("keydown",l.U),this.updateComplete.then((()=>{this.codemirror.destroy(),delete this.codemirror}))}},{kind:"method",key:"scheduleUpdate",value:async function(){var e;null!==(e=this._loadedCodeMirror)&&void 0!==e||(this._loadedCodeMirror=await Promise.all([i.e(43642),i.e(74561),i.e(92914)]).then(i.bind(i,92914))),(0,o.Z)((0,s.Z)(t.prototype),"scheduleUpdate",this).call(this)}},{kind:"method",key:"update",value:function(e){if((0,o.Z)((0,s.Z)(t.prototype),"update",this).call(this,e),!this.codemirror)return void this._createCodeMirror();const r=[];e.has("mode")&&r.push({effects:this._loadedCodeMirror.langCompartment.reconfigure(this._mode)}),e.has("readOnly")&&r.push({effects:this._loadedCodeMirror.readonlyCompartment.reconfigure(this._loadedCodeMirror.EditorView.editable.of(!this.readOnly))}),e.has("_value")&&this._value!==this.value&&r.push({changes:{from:0,to:this.codemirror.state.doc.length,insert:this._value}}),r.length>0&&this.codemirror.dispatch(...r),e.has("error")&&this.classList.toggle("error-state",this.error)}},{kind:"get",key:"_mode",value:function(){return this._loadedCodeMirror.langs[this.mode]}},{kind:"method",key:"_createCodeMirror",value:function(){if(!this._loadedCodeMirror)throw new Error("Cannot create editor before CodeMirror is loaded");const e=[this._loadedCodeMirror.lineNumbers(),this._loadedCodeMirror.history(),this._loadedCodeMirror.drawSelection(),this._loadedCodeMirror.EditorState.allowMultipleSelections.of(!0),this._loadedCodeMirror.rectangularSelection(),this._loadedCodeMirror.crosshairCursor(),this._loadedCodeMirror.highlightSelectionMatches(),this._loadedCodeMirror.highlightActiveLine(),this._loadedCodeMirror.keymap.of([...this._loadedCodeMirror.defaultKeymap,...this._loadedCodeMirror.searchKeymap,...this._loadedCodeMirror.historyKeymap,...this._loadedCodeMirror.tabKeyBindings,h]),this._loadedCodeMirror.langCompartment.of(this._mode),this._loadedCodeMirror.haTheme,this._loadedCodeMirror.haSyntaxHighlighting,this._loadedCodeMirror.readonlyCompartment.of(this._loadedCodeMirror.EditorView.editable.of(!this.readOnly)),this._loadedCodeMirror.EditorView.updateListener.of(this._onUpdate)];if(!this.readOnly){const r=[];this.autocompleteEntities&&this.hass&&r.push(this._entityCompletions.bind(this)),this.autocompleteIcons&&r.push(this._mdiCompletions.bind(this)),r.length>0&&e.push(this._loadedCodeMirror.autocompletion({override:r,maxRenderedOptions:10}))}this.codemirror=new this._loadedCodeMirror.EditorView({state:this._loadedCodeMirror.EditorState.create({doc:this._value,extensions:e}),parent:this.renderRoot})}},{kind:"field",key:"_getStates",value:()=>(0,c.Z)((e=>{if(!e)return[];return Object.keys(e).map((r=>({type:"variable",label:r,detail:e[r].attributes.friendly_name,info:`State: ${e[r].state}`})))}))},{kind:"method",key:"_entityCompletions",value:function(e){const r=e.matchBefore(/[a-z_]{3,}\.\w*/);if(!r||r.from===r.to&&!e.explicit)return null;const i=this._getStates(this.hass.states);return i&&i.length?{from:Number(r.from),options:i,validFor:/^[a-z_]{3,}\.\w*$/}:null}},{kind:"field",key:"_getIconItems",value(){return async()=>{if(!this._iconList){let e;e=(await i.e(71639).then(i.t.bind(i,71639,19))).default,this._iconList=e.map((e=>({type:"variable",label:`mdi:${e.name}`,detail:e.keywords.join(", "),info:u})))}return this._iconList}}},{kind:"method",key:"_mdiCompletions",value:async function(e){const r=e.matchBefore(/mdi:\S*/);if(!r||r.from===r.to&&!e.explicit)return null;const i=await this._getIconItems();return{from:Number(r.from),options:i,validFor:/^mdi:\S*$/}}},{kind:"field",key:"_onUpdate",value(){return e=>{e.docChanged&&(this._value=e.state.doc.toString(),(0,d.B)(this,"value-changed",{value:this._value}))}}},{kind:"get",static:!0,key:"styles",value:function(){return a.iv`:host(.error-state) .cm-gutters{border-color:var(--error-state-color,red)}`}}]}}),a.fl)},76270:(e,r,i)=>{i.d(r,{Q:()=>t});const t=["relative","total","date","time","datetime"]},26633:(e,r,i)=>{i.d(r,{O:()=>f});var t=i(17463),o=i(34541),s=i(47838),a=(i(14271),i(77426)),n=i(68144),c=i(79932),d=i(47181),l=i(34620),h=i(36639),u=(i(9381),i(31206),i(33753),i(14516)),m=i(38768),p=i(58831),g=(i(68331),i(30232));const _={none:{},"entity-id":{},"last-changed":{},"last-updated":{},"last-triggered":{domains:["automation","script"]},position:{domains:["cover"]},"tilt-position":{domains:["cover"]},brightness:{domains:["light"]}};(0,t.Z)([(0,c.Mo)("hui-generic-entity-row-editor")],(function(e,r){return{F:class extends r{constructor(...r){super(...r),e(this)}},d:[{kind:"field",decorators:[(0,c.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,c.SB)()],key:"_config",value:void 0},{kind:"method",key:"setConfig",value:function(e){(0,m.hu)(e,g.K),this._config=e}},{kind:"field",key:"_schema",value:()=>(0,u.Z)(((e,r)=>{const i=(0,p.M)(e);return[{name:"entity",required:!0,selector:{entity:{}}},{type:"grid",name:"",schema:[{name:"name",selector:{text:{}}},{name:"icon",selector:{icon:{}},context:{icon_entity:"entity"}}]},{name:"secondary_info",selector:{select:{options:Object.keys(_).filter((e=>!("domains"in _[e])||"domains"in _[e]&&_[e].domains.includes(i))).map((e=>({value:e,label:r(`ui.panel.lovelace.editor.card.entities.secondary_info_values.${e}`)})))}}}]}))},{kind:"method",key:"render",value:function(){if(!this.hass||!this._config)return n.Ld;const e=this._schema(this._config.entity,this.hass.localize);return n.dy` <ha-form .hass="${this.hass}" .data="${this._config}" .schema="${e}" .computeLabel="${this._computeLabelCallback}" @value-changed="${this._valueChanged}"></ha-form> `}},{kind:"method",key:"_valueChanged",value:function(e){(0,d.B)(this,"config-changed",{config:e.detail.value})}},{kind:"field",key:"_computeLabelCallback",value(){return e=>"secondary_info"===e.name?this.hass.localize(`ui.panel.lovelace.editor.card.entity-row.${e.name}`):this.hass.localize(`ui.panel.lovelace.editor.card.generic.${e.name}`)}}]}}),n.oi);class y extends Error{constructor(e,r,i){super(e),this.warnings=void 0,this.errors=void 0,this.name="GUISupportError",this.warnings=r,this.errors=i}}let f=(0,t.Z)(null,(function(e,r){class t extends r{constructor(...r){super(...r),e(this)}}return{F:t,d:[{kind:"field",decorators:[(0,c.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,c.Cb)({attribute:!1})],key:"lovelace",value:void 0},{kind:"field",decorators:[(0,c.Cb)({attribute:!1})],key:"context",value:void 0},{kind:"field",decorators:[(0,c.SB)()],key:"_yaml",value:void 0},{kind:"field",decorators:[(0,c.SB)()],key:"_config",value:void 0},{kind:"field",decorators:[(0,c.SB)()],key:"_configElement",value:void 0},{kind:"field",decorators:[(0,c.SB)()],key:"_configElementType",value:void 0},{kind:"field",decorators:[(0,c.SB)()],key:"_guiMode",value:()=>!0},{kind:"field",decorators:[(0,c.SB)()],key:"_errors",value:void 0},{kind:"field",decorators:[(0,c.SB)()],key:"_warnings",value:void 0},{kind:"field",decorators:[(0,c.SB)()],key:"_guiSupported",value:void 0},{kind:"field",decorators:[(0,c.SB)()],key:"_loading",value:()=>!1},{kind:"field",decorators:[(0,c.IO)("ha-code-editor")],key:"_yamlEditor",value:void 0},{kind:"get",key:"yaml",value:function(){return this._yaml||(this._yaml=(0,a.dump)(this._config)),this._yaml||""}},{kind:"set",key:"yaml",value:function(e){this._yaml=e;try{this._config=(0,a.load)(this.yaml),this._errors=void 0}catch(e){this._errors=[e.message]}this._setConfig()}},{kind:"get",key:"value",value:function(){return this._config}},{kind:"set",key:"value",value:function(e){this._config&&(0,h.v)(e,this._config)||(this._config=e,this._yaml=void 0,this._errors=void 0,this._setConfig())}},{kind:"method",key:"_setConfig",value:function(){if(!this._errors)try{this._updateConfigElement()}catch(e){this._errors=[e.message]}this.updateComplete.then((()=>{var e;(0,d.B)(this,"config-changed",{config:this.value,error:null===(e=this._errors)||void 0===e?void 0:e.join(", "),guiModeAvailable:!(this.hasWarning||this.hasError||!1===this._guiSupported)})}))}},{kind:"get",key:"hasWarning",value:function(){return void 0!==this._warnings&&this._warnings.length>0}},{kind:"get",key:"hasError",value:function(){return void 0!==this._errors&&this._errors.length>0}},{kind:"get",key:"GUImode",value:function(){return this._guiMode}},{kind:"set",key:"GUImode",value:function(e){this._guiMode=e,this.updateComplete.then((()=>{(0,d.B)(this,"GUImode-changed",{guiMode:e,guiModeAvailable:!(this.hasWarning||this.hasError||!1===this._guiSupported)})}))}},{kind:"method",key:"toggleMode",value:function(){this.GUImode=!this.GUImode}},{kind:"method",key:"focusYamlEditor",value:function(){var e,r;null!==(e=this._configElement)&&void 0!==e&&e.focusYamlEditor&&this._configElement.focusYamlEditor(),null!==(r=this._yamlEditor)&&void 0!==r&&r.codemirror&&this._yamlEditor.codemirror.focus()}},{kind:"method",key:"getConfigElement",value:async function(){}},{kind:"method",key:"getConfigForm",value:async function(){}},{kind:"get",key:"configElementType",value:function(){return this.value?this.value.type:void 0}},{kind:"method",key:"render",value:function(){return n.dy` <div class="wrapper"> ${this.GUImode?n.dy` <div class="gui-editor"> ${this._loading?n.dy` <ha-circular-progress active alt="Loading" class="center margin-bot"></ha-circular-progress> `:this._configElement} </div> `:n.dy` <div class="yaml-editor"> <ha-code-editor mode="yaml" autofocus autocomplete-entities autocomplete-icons .hass="${this.hass}" .value="${this.yaml}" .error="${Boolean(this._errors)}" @value-changed="${this._handleYAMLChanged}" @keydown="${this._ignoreKeydown}" dir="ltr"></ha-code-editor> </div> `} ${!1===this._guiSupported&&this.configElementType?n.dy` <div class="info"> ${this.hass.localize("ui.errors.config.editor_not_available","type",this.configElementType)} </div> `:""} ${this.hasError?n.dy` <div class="error"> ${this.hass.localize("ui.errors.config.error_detected")}: <br> <ul> ${this._errors.map((e=>n.dy`<li>${e}</li>`))} </ul> </div> `:""} ${this.hasWarning?n.dy` <ha-alert alert-type="warning" .title="${this.hass.localize("ui.errors.config.editor_not_supported")}:"> ${this._warnings.length>0&&void 0!==this._warnings[0]?n.dy` <ul> ${this._warnings.map((e=>n.dy`<li>${e}</li>`))} </ul>`:""} ${this.hass.localize("ui.errors.config.edit_in_yaml_supported")} </ha-alert> `:""} </div> `}},{kind:"method",key:"updated",value:function(e){(0,o.Z)((0,s.Z)(t.prototype),"updated",this).call(this,e),this._configElement&&e.has("hass")&&(this._configElement.hass=this.hass),this._configElement&&"lovelace"in this._configElement&&e.has("lovelace")&&(this._configElement.lovelace=this.lovelace),this._configElement&&e.has("context")&&(this._configElement.context=this.context)}},{kind:"method",key:"_handleUIConfigChanged",value:function(e){e.stopPropagation();const r=e.detail.config;Object.keys(r).forEach((e=>{void 0===r[e]&&delete r[e]})),this.value=r}},{kind:"method",key:"_handleYAMLChanged",value:function(e){e.stopPropagation();const r=e.detail.value;r!==this.yaml&&(this.yaml=r)}},{kind:"method",key:"_updateConfigElement",value:async function(){if(!this.value)return;let e;try{if(this._errors=void 0,this._warnings=void 0,this._configElementType!==this.configElementType){if(this._guiSupported=void 0,this._configElement=void 0,!this.configElementType)throw new Error(this.hass.localize("ui.errors.config.no_type_provided"));if(this._configElementType=this.configElementType,this._loading=!0,e=await this.getConfigElement(),!e){const r=await this.getConfigForm();if(r){await i.e(63387).then(i.bind(i,63387)),e=document.createElement("hui-form-editor");const{schema:t,assertConfig:o,computeLabel:s,computeHelper:a}=r;e.schema=t,s&&(e.computeLabel=s),a&&(e.computeHelper=a),o&&(e.assertConfig=o)}}e&&(e.hass=this.hass,"lovelace"in e&&(e.lovelace=this.lovelace),e.context=this.context,e.addEventListener("config-changed",(e=>this._handleUIConfigChanged(e))),this._configElement=e,this._guiSupported=!0)}if(this._configElement)try{this._configElement.setConfig(this.value)}catch(e){const r=(0,l.p)(this.hass,e);throw new y("Config is not supported",r.warnings,r.errors)}else this._guiSupported=!1,this.GUImode=!1}catch(e){var r;if(e instanceof y)this._warnings=null!==(r=e.warnings)&&void 0!==r?r:[e.message],this._errors=e.errors||void 0;else this._errors=[e.message];this.GUImode=!1}finally{this._loading=!1}}},{kind:"method",key:"_ignoreKeydown",value:function(e){e.stopPropagation()}},{kind:"get",static:!0,key:"styles",value:function(){return n.iv`:host{display:flex}.wrapper{width:100%}.gui-editor,.yaml-editor{padding:8px 0px}ha-code-editor{--code-mirror-max-height:calc(100vh - 245px)}.error,.info,.warning{word-break:break-word;margin-top:8px}.error{color:var(--error-color)}.warning{color:var(--warning-color)}.error ul,.warning ul{margin:4px 0}.error li,.warning li{white-space:pre-wrap}ha-circular-progress{display:block;margin:auto}`}}]}}),n.oi)},85677:(e,r,i)=>{i.d(r,{C:()=>u});var t=i(38768);const o=(0,t.Ry)({user:(0,t.Z_)()}),s=(0,t.G0)([(0,t.O7)(),(0,t.Ry)({text:(0,t.jt)((0,t.Z_)()),excemptions:(0,t.jt)((0,t.IX)(o))})]),a=(0,t.Ry)({action:(0,t.i0)("url"),url_path:(0,t.Z_)(),confirmation:(0,t.jt)(s)}),n=(0,t.Ry)({action:(0,t.i0)("call-service"),service:(0,t.Z_)(),service_data:(0,t.jt)((0,t.Ry)()),data:(0,t.jt)((0,t.Ry)()),target:(0,t.jt)((0,t.Ry)({entity_id:(0,t.jt)((0,t.G0)([(0,t.Z_)(),(0,t.IX)((0,t.Z_)())])),device_id:(0,t.jt)((0,t.G0)([(0,t.Z_)(),(0,t.IX)((0,t.Z_)())])),area_id:(0,t.jt)((0,t.G0)([(0,t.Z_)(),(0,t.IX)((0,t.Z_)())]))})),confirmation:(0,t.jt)(s)}),c=(0,t.Ry)({action:(0,t.i0)("navigate"),navigation_path:(0,t.Z_)(),navigation_replace:(0,t.jt)((0,t.O7)()),confirmation:(0,t.jt)(s)}),d=(0,t.dt)({action:(0,t.i0)("assist"),pipeline_id:(0,t.jt)((0,t.Z_)()),start_listening:(0,t.jt)((0,t.O7)())}),l=(0,t.dt)({action:(0,t.i0)("fire-dom-event")}),h=(0,t.Ry)({action:(0,t.kE)(["none","toggle","more-info","call-service","url","navigate","assist"]),confirmation:(0,t.jt)(s)}),u=(0,t.D8)((e=>{if(e&&"object"==typeof e&&"action"in e)switch(e.action){case"call-service":return n;case"fire-dom-event":return l;case"navigate":return c;case"url":return a;case"assist":return d}return h}))},30232:(e,r,i)=>{i.d(r,{K:()=>a});var t=i(38768),o=i(76270),s=i(85677);const a=(0,t.G0)([(0,t.Ry)({entity:(0,t.Z_)(),name:(0,t.jt)((0,t.Z_)()),icon:(0,t.jt)((0,t.Z_)()),image:(0,t.jt)((0,t.Z_)()),secondary_info:(0,t.jt)((0,t.Z_)()),format:(0,t.jt)((0,t.kE)(o.Q)),state_color:(0,t.jt)((0,t.O7)()),tap_action:(0,t.jt)(s.C),hold_action:(0,t.jt)(s.C),double_tap_action:(0,t.jt)(s.C)}),(0,t.Z_)()])}};
//# sourceMappingURL=21948-qigWoTRQSko.js.map