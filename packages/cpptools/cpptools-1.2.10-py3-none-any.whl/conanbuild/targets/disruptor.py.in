#!/usr/bin/env python
# -*- coding: utf-8 -*-

from conans import ConanFile, AutoToolsBuildEnvironment, tools, VisualStudioBuildEnvironment


class DisruptorConan(ConanFile):
    name = "disruptor"
    version = "@version@"
    description = "Disruptor is a lock-less queue."
    url = "https://gitlab.gz.cvte.cn/1602/3rd/disruptor"
    homepage = "https://gitlab.gz.cvte.cn/1602/3rd/disruptor"
    author = "MindLinker"
    license = "GNU LGPL 2.1"

    def source(self):
        self.run('git clone git@gitlab.gz.cvte.cn:1602/3rd/disruptor.git @git_ref@ .')

    def package(self):
        self.copy(pattern="include/disruptor/*.h", dst="include/disruptor/", src=self.source_folder, keep_path=False)