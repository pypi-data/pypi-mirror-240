{#
  In this template:
  sdoc_entity = requirement
#}

{%- if project_config.is_running_on_server %}
  <sdoc-node-controls data-direction="row">
    <a
      href="{{ link_renderer.render_node_link(requirement, document, link_document_type, allow_local=False) }}"
      class="action_button"
      title="Find it in the document view"
      data-testid="requirement-find-in-document"
    >{% include "_res/svg_ico16_go_to_doc.jinja" %}</a>
    <turbo-frame>
      <a
        href="/actions/deep_trace/show_full_requirement?reference_mid={{ sdoc_entity.mid.get_string_value() }}"
        class="action_button"
        data-turbo="true"
        data-turbo-action="replace"
        title="Show in full in modal"
        data-testid="requirement-show-more-action"
      >{% include "_res/svg_ico16_maximize.jinja" %}</a>
    </turbo-frame>
  </sdoc-node-controls>
{% endif -%}

<sdoc-requirement
  requirement-view="{{ requirement_style|d(requirement.get_requirement_style_mode()) }}"
  data-level="{{ requirement.context.title_number_string }}"
  {%- if requirement.reserved_status %}
    data-status='{{ requirement.reserved_status.lower() }}'
  {%- endif %}
  data-testid="requirement-style-{{ requirement_style|d(requirement.get_requirement_style_mode()) }}"
>
  {% set title_number = false %}
  {% set truncated_statement = true %}
  {% include "components/requirement/title/index.jinja" %}
  {% include "components/requirement/uid/index.jinja" %}
  {% include "components/requirement/statement/index.jinja" %}
</sdoc-requirement>
