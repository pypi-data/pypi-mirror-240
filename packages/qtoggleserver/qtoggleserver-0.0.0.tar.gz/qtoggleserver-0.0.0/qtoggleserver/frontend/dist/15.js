(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{173:function(t,e,o){"use strict";o.r(e);var n=o(2),a=o(0),r=o(4),l=o(7),i=o(8),u=o(22),c=o(6),s=o(71),h=o(160),b=o(74),d=o(61);function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function v(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function m(){return(m=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t}).apply(this,arguments)}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function y(t,e,o){return e&&_(t.prototype,e),o&&_(t,o),t}function w(t,e,o){return(w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,o){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=k(t)););return t}(t,e);if(n){var a=Object.getOwnPropertyDescriptor(n,e);return a.get?a.get.call(o):a.value}})(t,e,o||t)}function O(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&C(t,e)}function C(t,e){return(C=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function F(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=k(t);if(e){var a=k(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return j(this,o)}}function j(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function k(t){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var P=function(t){O(o,t);var e=F(o);function o(t){var n=m({},t);return g(this,o),e.call(this,function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?p(Object(o),!0).forEach((function(e){v(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):p(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({fields:[new s.a({name:"portId",label:Object(a.a)("Port"),required:!0}),new r.c({name:"normalColor",label:Object(a.a)("Normal Color"),filterEnabled:!0,required:!0}),new r.c({name:"activeColor",label:Object(a.a)("Active Color"),filterEnabled:!0,required:!0}),new r.a({name:"separateColors",label:Object(a.a)("Separate Colors"),onChange:function(t,e){return e._updateButtonFields()}}),new r.a({name:"vertical",label:Object(a.a)("Vertical")}),new r.o({name:"numButtons",label:Object(a.a)("Buttons"),min:2,max:20,onChange:function(t,e){return e._updateButtonFields()}})]},n))}return y(o,[{key:"onUpdateFromWidget",value:function(){this._updateButtonFields()}},{key:"_updateButtonFields",value:function(){var t=this.getFields().filter((function(t){return t.getName().match(new RegExp("buttonValue\\d+"))})),e=this.getFields().filter((function(t){return t.getName().match(new RegExp("buttonLabel\\d+"))})),o=this.getFields().filter((function(t){return t.getName().match(new RegExp("buttonColor\\d+"))})),n=this.getField("activeColor"),a=t.concat(e).concat(o),r=this.getUnvalidatedData(),l=this.getPort(r.portId);r.separateColors?n.hide():n.show();var i=e.length-1;u.b(i+1,r.numButtons).forEach((function(t){var e=this._addButtonFields(t,l);a.push(e.valueField),a.push(e.labelField),a.push(e.colorField)}),this),u.b(0,r.numButtons).forEach((function(t){var e=this._getButtonFields(t);e.valueField.show(),e.labelField.show(),r.separateColors?e.colorField.show():e.colorField.hide()}),this),u.b(r.numButtons,i+1).forEach((function(t){var e=this._getButtonFields(t);e.valueField.hide(),e.labelField.hide(),e.colorField.hide()}),this)}},{key:"_addButtonFields",value:function(t,e){var o=null,n=null,l=!1,i=null;e&&(o=e.min,n=e.max,l=e.integer,i=e.step);var u=new r.h({name:"buttonValue".concat(t),label:"".concat(Object(a.a)("Value")," ").concat(t+1),required:!0,separator:!0,min:o,max:n,integer:l,step:i}),c=new r.n({name:"buttonLabel".concat(t),label:"".concat(Object(a.a)("Label")," ").concat(t+1)}),s=new r.c({name:"buttonColor".concat(t),label:"".concat(Object(a.a)("Color")," ").concat(t+1),filterEnabled:!0,required:!0});return this.addField(-1,u),this.addField(-1,c),this.addField(-1,s),{valueField:u,labelField:c,colorField:s}}},{key:"_getButtonFields",value:function(t){return{valueField:this.getField("buttonValue".concat(t)),labelField:this.getField("buttonLabel".concat(t)),colorField:this.getField("buttonColor".concat(t))}}},{key:"fromWidget",value:function(t){var e=w(k(o.prototype),"fromWidget",this).call(this,t);return e.numButtons=e.values.length,u.b(0,e.numButtons).forEach((function(t){e["buttonValue".concat(t)]=e.values[t],e["buttonLabel".concat(t)]=e.labels[t],e["buttonColor".concat(t)]=e.colors[t]})),e}},{key:"toWidget",value:function(t,e){t.values=[],t.labels=[],t.colors=[],u.b(0,t.numButtons).forEach((function(e){t.values[e]=t["buttonValue".concat(e)],t.labels[e]=t["buttonLabel".concat(e)],t.colors[e]=t["buttonColor".concat(e)]})),w(k(o.prototype),"toWidget",this).call(this,t,e)}}]),o}(b.a),B=function(t){O(o,t);var e=F(o);function o(){var t;return g(this,o),(t=e.call(this))._normalColor="@gray-color",t._activeColor=h.a,t._separateColors=!1,t._portId="",t._vertical=!1,t._buttons=[{value:0,label:"",color:""},{value:0,label:"",color:""}],t}return y(o,[{key:"isValid",value:function(){if(!this._portId)return!1;var t=this.getPort(this._portId);return Boolean(t&&t.enabled&&t.writable&&!1!==t.online&&"number"===t.type)}},{key:"showCurrentValue",value:function(){var t=this.getPortValue(this._portId);null!=t&&this._showValue(t)}},{key:"makeContent",value:function(t,e){var o=Object(n.a)("<div></div>",{class:"dashboard-radio-buttons-container"});return this._vertical?o.addClass("vertical"):(o.addClass("horizontal"),o.css("margin-top","".concat(this._getLabelHeight()+d.b,"em"))),o.toggleClass("separate-colors",this._separateColors),this._buttons.forEach((function(n,a){n.bezelDiv=this._makeBezel(t,e),o.append(n.bezelDiv),n.labelSpan=this._makeLabel(a),n.bezelDiv.append(n.labelSpan),n.handleDiv=this._makeHandleDiv(a),n.bezelDiv.append(n.handleDiv)}),this),o}},{key:"_makeLabel",value:function(t){var e=Object(n.a)("<span></span>",{class:"dashboard-radio-buttons-label"});return e.css({"font-size":"".concat(this._getLabelFontSize(),"em"),top:"".concat(-this._getLabelHeight()/this._getLabelFontSize(),"em")}),e.text(this._buttons[t].label),e}},{key:"_makeBezel",value:function(t,e){var o=Math.min(t,e)-this._getLabelHeight()-2*d.b,a=Object(n.a)("<div></div>",{class:"dashboard-push-button-bezel"});return a.css({width:"".concat(o,"em"),height:"".concat(o,"em")}),a}},{key:"_makeHandleDiv",value:function(t){var e=Object(n.a)("<div></div>",{class:"qui-base-button dashboard-push-button-handle"});e.css({background:i.f(this._normalColor),borderColor:i.f(this._separateColors?this._buttons[t].color:this._activeColor),margin:"".concat(this.roundEm(d.a),"em")});var o=this;function a(){c.a.off("pointerup pointercancel pointerleave",a),o.vibrate(),o.handleRelease(t),o._timeoutHandle&&(clearTimeout(o._timeoutHandle),o._timeoutHandle=null)}return e.on("pointerdown",(function(e){c.a.on("pointerup pointercancel pointerleave",a),o._showValue(o._buttons[t].value),o.vibrate(),o.handlePress(t),o._timeout&&(o._timeoutHandle=setTimeout((function(){o._timeoutHandle=null,a()}),o._timeout)),e.preventDefault()})),e}},{key:"_showValue",value:function(t){this._buttons.forEach((function(e){var o=this._separateColors?e.color:this._activeColor;e.value===t?(e.handleDiv.css("background",i.f(o)),e.handleDiv.css("border-width","0")):(e.handleDiv.css("background",i.f(this._normalColor)),e.handleDiv.css("border-width",""))}),this)}},{key:"_getLabelHeight",value:function(){return this.getLabel()?.15:this.constructor.hasFrame?d.f:d.e}},{key:"_getLabelFontSize",value:function(){return this.getLabel()?.1:d.d}},{key:"handlePress",value:function(t){this.setPortValue(this._portId,this._buttons[t].value)}},{key:"handleRelease",value:function(t){}},{key:"configToJSON",value:function(){return{normalColor:this._normalColor,activeColor:this._activeColor,separateColors:this._separateColors,portId:this._portId,vertical:this._vertical,values:this._buttons.map((function(t){return t.value})),labels:this._buttons.map((function(t){return t.label})),colors:this._buttons.map((function(t){return t.color}))}}},{key:"configFromJSON",value:function(t){t.normalColor&&(this._normalColor=t.normalColor),t.activeColor&&(this._activeColor=t.activeColor),null!=t.separateColors&&(this._separateColors=t.separateColors),t.portId&&(this._portId=t.portId),null!=t.vertical&&(this._vertical=t.vertical),null!=t.values&&(this._buttons=t.values.map((function(e,o){return{value:e,label:null!=t.labels?t.labels[o]:"",color:null!=t.colors?t.colors[o]:""}})),this._vertical?(this.setWidth(1),this.setHeight(t.values.length)):(this.setWidth(t.values.length),this.setHeight(1)))}},{key:"onPortValueChange",value:function(t,e){t===this._portId&&this._showValue(e)}}]),o}(h.b);v(B,"category",Object(a.a)("Push Buttons")),v(B,"displayName",Object(a.a)("Radio Buttons")),v(B,"typeName","RadioButtons"),v(B,"icon",new l.a({name:"widget-radio",stockName:"qtoggle"})),v(B,"ConfigForm",P),v(B,"hResizable",!1),v(B,"vResizable",!1),d.m(B),e.default=B}}]);
//# sourceMappingURL=15.js.map