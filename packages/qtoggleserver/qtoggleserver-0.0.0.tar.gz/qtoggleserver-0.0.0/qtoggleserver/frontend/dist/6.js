(window.webpackJsonp=window.webpackJsonp||[]).push([[6,14],{164:function(e,t,n){"use strict";n.r(t);var r=n(2),o=n(0),a=n(4),i=n(7),u=n(8),l=n(6),c=n(71),s=n(61),f=n(160);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),e}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var o=j(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var P=function(e){g(n,e);var t=O(n);function n(e){var r=b({},e);return y(this,n),t.call(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({fields:[new a.c({name:"color",label:Object(o.a)("Color"),filterEnabled:!0,required:!0}),new c.a({name:"portId",label:Object(o.a)("Port"),required:!0,onChange:function(e,t){return t._showHidePortTypeFields()}}),new a.a({name:"inverted",label:Object(o.a)("Inverted Logic")}),new a.h({name:"pressedValue",label:Object(o.a)("Pressed Value"),required:!0}),new a.h({name:"releasedValue",label:Object(o.a)("Released Value"),required:!0}),new a.o({name:"timeout",label:Object(o.a)("Release Timeout"),unit:"ms",min:0,max:1e4,step:100,description:Object(o.a)("Sets the time after which the button is automatically released. Value 0 disables automatic release.")})]},r))}return m(n,[{key:"_showHidePortTypeFields",value:function(){var e=this.getUnvalidatedData(),t=this.getPort(e.portId),n=!0;t&&"number"===t.type&&(n=!1);var r=["inverted"],o=["pressedValue","releasedValue"];n?(o.forEach((function(e){this.getField(e).hide()}),this),r.forEach((function(e){this.getField(e).show()}),this)):(r.forEach((function(e){this.getField(e).hide()}),this),o.forEach((function(e){this.getField(e).show()}),this))}},{key:"onUpdateFromWidget",value:function(){this._showHidePortTypeFields()}}]),n}(n(74).a),F=function(e){g(n,e);var t=O(n);function n(){var e;return y(this,n),(e=t.call(this))._color=f.a,e._portId="",e._inverted=!1,e._pressedValue=1,e._releasedValue=0,e._timeout=1e3,e._timeoutHandle=null,e._bezelDiv=null,e._handleDiv=null,e}return m(n,[{key:"isValid",value:function(){if(!this._portId)return!1;var e=this.getPort(this._portId);return Boolean(e&&e.enabled&&e.writable&&!1!==e.online)}},{key:"makeContent",value:function(e,t){var n=Object(r.a)("<div></div>",{class:"dashboard-push-button-container"});return this._bezelDiv=this._makeBezel(e,t),n.css("borderWidth","".concat(s.b,"em")),n.append(this._bezelDiv),this._handleDiv=this._makeHandleDiv(),this._bezelDiv.append(this._handleDiv),n}},{key:"_makeBezel",value:function(e,t){var n=Math.min(e,t)-2*s.b,o=t>e?(t-e)/2:0,a=Object(r.a)("<div></div>",{class:"dashboard-push-button-bezel"});return a.css({width:"".concat(n,"em"),height:"".concat(n,"em"),"margin-top":"".concat(o,"em")}),a}},{key:"_makeHandleDiv",value:function(){var e=Object(r.a)("<div></div>",{class:"qui-base-button dashboard-push-button-handle"});e.css({background:u.f(this._color),margin:"".concat(this.roundEm(s.a),"em")});var t=this;function n(){l.a.off("pointerup pointercancel pointerleave",n),t.vibrate(),t.handleRelease(),t._timeoutHandle&&(clearTimeout(t._timeoutHandle),t._timeoutHandle=null)}return e.on("pointerdown",(function(e){l.a.on("pointerup pointercancel pointerleave",n),t.vibrate(),t.handlePress(),t._timeout&&(t._timeoutHandle=setTimeout((function(){t._timeoutHandle=null,n()}),t._timeout)),e.preventDefault()})),e}},{key:"_isBoolean",value:function(){var e=!0,t=this.getPort(this._portId);return t&&"number"===t.type&&(e=!1),e}},{key:"handlePress",value:function(){this._isBoolean()?this.setPortValue(this._portId,!this._inverted):this.setPortValue(this._portId,this._pressedValue)}},{key:"handleRelease",value:function(){this._isBoolean()?this.setPortValue(this._portId,this._inverted):this.setPortValue(this._portId,this._releasedValue)}},{key:"configToJSON",value:function(){return{color:this._color,portId:this._portId,inverted:this._inverted,pressedValue:this._pressedValue,releasedValue:this._releasedValue,timeout:this._timeout}}},{key:"configFromJSON",value:function(e){e.color&&(this._color=e.color),e.portId&&(this._portId=e.portId),null!=e.inverted&&(this._inverted=e.inverted),null!=e.pressedValue&&(this._pressedValue=e.pressedValue),null!=e.releasedValue&&(this._releasedValue=e.releasedValue),null!=e.timeout&&(this._timeout=e.timeout)}}]),n}(f.b);h(F,"category",Object(o.a)("Push Buttons")),h(F,"displayName",Object(o.a)("Push Button")),h(F,"typeName","PushButton"),h(F,"icon",new i.a({name:"widget-push-button",stockName:"qtoggle"})),h(F,"ConfigForm",P),h(F,"vResizable",!0),h(F,"hResizable",!0),s.m(F),t.default=F},174:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(4),a=n(7),i=n(22),u=n(71),l=n(61),c=n(74),s=n(164);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),e}function m(e,t,n){return(m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=j(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var o=j(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var P=function(e){g(n,e);var t=O(n);function n(e){var a=h({},e);return b(this,n),t.call(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({fields:[new o.c({name:"color",label:Object(r.a)("Color"),filterEnabled:!0,required:!0}),new u.a({name:"portId",label:Object(r.a)("Port"),required:!0,onChange:function(e,t){return t._updateSeqFields()}}),new o.a({name:"repeat",label:Object(r.a)("Repeat"),separator:!0,onChange:function(e,t){return t._updateRepeatFields()}}),new o.a({name:"repeatForever",label:Object(r.a)("Repeat Forever"),onChange:function(e,t){return t._updateRepeatFields()}}),new o.h({name:"repeatCount",label:Object(r.a)("Repeat Count"),unit:Object(r.a)("times"),required:!0,min:2,max:65535}),new o.o({name:"seqLength",label:Object(r.a)("Sequence Length"),separator:!0,min:0,max:100,onChange:function(e,t){return t._updateSeqFields()}})]},a))}return v(n,[{key:"onUpdateFromWidget",value:function(){this._updateSeqFields(),this._updateRepeatFields()}},{key:"_updateSeqFields",value:function(){var e=this.getFields().filter((function(e){return e.getName().match(new RegExp("seqValue\\d+"))})),t=this.getFields().filter((function(e){return e.getName().match(new RegExp("seqDelay\\d+"))})),n=t.concat(e),r=t.length-1,a=this.getUnvalidatedData(),u=this.getPort(a.portId),l=!(u&&"number"===u.type),c=this.getField("seqValue0");l!==(!!c&&c instanceof o.a)&&(n.forEach((function(e){this.removeField(e)}),this),r=-1),i.b(r+1,a.seqLength).forEach((function(e){var t=this._addSeqFields(e,u);n.push(t.valueField),n.push(t.delayField)}),this),i.b(0,a.seqLength).forEach((function(e){var t=this._getSeqFields(e);t.valueField.show(),t.delayField.show()}),this),i.b(a.seqLength,r+1).forEach((function(e){var t=this._getSeqFields(e);t.valueField.hide(),t.delayField.hide()}),this)}},{key:"_addSeqFields",value:function(e,t){var n,a=!(t&&"number"===t.type),i=null,u=null,l=!1,c=null;t&&(i=t.min,u=t.max,l=t.integer,c=t.step),n=a?new o.a({name:"seqValue".concat(e),label:"".concat(Object(r.a)("Value")," ").concat(e+1),required:!1,separator:!0}):new o.h({name:"seqValue".concat(e),label:"".concat(Object(r.a)("Value")," ").concat(e+1),min:i,max:u,integer:l,step:c,required:!0,separator:!0}),this.addField(-1,n);var s=new o.h({name:"seqDelay".concat(e),label:"".concat(Object(r.a)("Delay")," ").concat(e+1),required:!0,unit:"ms",min:1,max:6e4});return this.addField(-1,s),{valueField:n,delayField:s}}},{key:"_getSeqFields",value:function(e){return{valueField:this.getField("seqValue".concat(e)),delayField:this.getField("seqDelay".concat(e))}}},{key:"_updateRepeatFields",value:function(){var e=this.getUnvalidatedData(),t=this.getField("repeatForever"),n=this.getField("repeatCount");e.repeat?(t.show(),e.repeatForever?n.hide():(n.show(),e.repeatCount<2&&(e.repeatCount=2,this.setData({repeatCount:2})))):(t.hide(),n.hide())}},{key:"fromWidget",value:function(e){var t=m(j(n.prototype),"fromWidget",this).call(this,e);return t.seqLength=t.delays.length,i.b(0,t.seqLength).forEach((function(e){t["seqValue".concat(e)]=t.values[e],t["seqDelay".concat(e)]=t.delays[e]})),t.repeatCount>=2?(t.repeat=!0,t.repeatForever=!1):1===t.repeatCount?(t.repeat=!1,t.repeatForever=!1):(t.repeat=!0,t.repeatForever=!0),t}},{key:"toWidget",value:function(e,t){e.values=[],e.delays=[],i.b(0,e.seqLength).forEach((function(t){e.values[t]=e["seqValue".concat(t)],e.delays[t]=e["seqDelay".concat(t)]})),e.repeat?e.repeatForever&&(e.repeatCount=0):e.repeatCount=1,m(j(n.prototype),"toWidget",this).call(this,e,t)}}]),n}(c.a),F=function(e){g(n,e);var t=O(n);function n(){var e;return b(this,n),(e=t.call(this))._values=[],e._delays=[],e._repeatCount=1,e}return v(n,[{key:"handlePress",value:function(){this.setPortSequence(this._portId,this._values,this._delays,this._repeatCount)}},{key:"handleRelease",value:function(){}},{key:"configToJSON",value:function(){return{color:this._color,portId:this._portId,values:this._values.slice(),delays:this._delays.slice(),repeatCount:this._repeatCount}}},{key:"configFromJSON",value:function(e){e.color&&(this._color=e.color),e.portId&&(this._portId=e.portId),null!=e.values&&(this._values=e.values.slice()),null!=e.delays&&(this._delays=e.delays.slice()),null!=e.repeatCount&&(this._repeatCount=e.repeatCount)}}]),n}(s.default);d(F,"category",Object(r.a)("Push Buttons")),d(F,"displayName",Object(r.a)("Sequence Push Button")),d(F,"typeName","SequencePushButton"),d(F,"icon",new a.a({name:"widget-push-button",stockName:"qtoggle"})),d(F,"ConfigForm",P),d(F,"hResizable",!0),d(F,"vResizable",!0),l.m(F),t.default=F}}]);
//# sourceMappingURL=6.js.map