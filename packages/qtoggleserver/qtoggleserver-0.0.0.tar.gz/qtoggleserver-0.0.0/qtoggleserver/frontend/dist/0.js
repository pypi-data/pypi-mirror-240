(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{160:function(t,e,n){"use strict";n.d(e,"a",(function(){return Z}));var i=n(2),o=n(14),r=n(0),a=n(15),s=n(7),l=n(32),u=n(38),c=n(20),h=n(18),d=n(8),f=n(42),g=n(62),v=n(10),p=n(11),_=n(30),b=n(16),m=n(47),y=n(5),k=n(4),w=n(23),C=n(21),O=n(22),j=n(28);function P(t){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function E(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D(t,e){if(null==t)return{};var n,i,o=function(t,e){if(null==t)return{};var n,i,o={},r=Object.keys(t);for(i=0;i<r.length;i++)n=r[i],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(i=0;i<r.length;i++)n=r[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function I(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function z(t,e,n){return e&&R(t.prototype,e),n&&R(t,n),t}function L(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&W(t,e)}function W(t,e){return(W=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function T(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=F(t);if(e){var o=F(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return M(this,n)}}function M(t,e){return!e||"object"!==P(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function F(t){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var x=o.default.get("qtoggle.dashboard.widgets"),V=function(t){L(n,t);var e=T(n);function n(t){var i,o=t.dashboardWidget,r=D(t,["dashboardWidget"]);return I(this,n),(i=e.call(this,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?S(Object(n),!0).forEach((function(e){E(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},r)))._dashboardWidget=o,i}return z(n,[{key:"makeChoices",value:function(){var t=Object.values(j.d()).map((function(t){return{label:this._makeLabel(t),value:t.getId()}}),this),e=this._dashboardWidget.getPanel();return t=t.filter((function(t){return t.value!==e.getId()})),O.c(t,(function(t){return t.label}))}},{key:"_makeLabel",value:function(t){return t.getPath().join(" &#x025B8; ")}}]),n}(k.d),B=function(t){L(n,t);var e=T(n);function n(t){var i;I(this,n);var o=p.a(Object(r.a)("Move %(widget)s to another panel"),{widget:t.toString()});return(i=e.call(this,{icon:j.b,title:o,pathId:"move",popup:!0,fields:[new V({name:"panel",label:Object(r.a)("Panel"),description:Object(r.a)("Select the destination panel."),required:!0,dashboardWidget:t})],buttons:[new C.a({id:"cancel",caption:Object(r.a)("Cancel"),cancel:!0}),new C.a({id:"ok",caption:Object(r.a)("OK"),def:!0})]}))._widget=t,i}return z(n,[{key:"applyData",value:function(t){var e=j.d().find((function(e){return e.getId()===t.panel}));e?this._widget.moveToPanel(e):x.error("cannot find panel with id ".concat(t.panel))}}]),n}(w.b),H=n(74),N=n(61);function A(t){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function q(t){return function(t){if(Array.isArray(t))return J(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return J(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function X(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Y(t,e,n){return(Y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=G(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function K(t,e){return(K=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function U(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=G(t);if(e){var o=G(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return $(this,n)}}function $(t,e){return!e||"object"!==A(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function G(t){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Q(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Z="@blue-color",tt=[N.h,N.i,N.g,N.j],et=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&K(t,e)}(k,t);var e,n,a,_=U(k);function k(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,k),(t=_.call(this))._panel=null,t._bodyDiv=null,t._labelDiv=null,t._statusIcon=null,t._glassDiv=null,t._contentElem=null,t._configForm=null,t._moveControl=null,t._removeControl=null,t._configureControl=null,t._duplicateControl=null,t._resizeTopControl=null,t._resizeRightControl=null,t._resizeBottomControl=null,t._resizeLeftControl=null,t._statusIconTimeout=0,t._selected=!1,t._px2em=1,t._clickDragElemX=null,t._clickDragElemY=null,t._dragElem=null,t._id=null,t._label="",t._left=0,t._top=0,t._width=1,t._height=1,null!=t.constructor.width&&(t._width=t.constructor.width),null!=t.constructor.height&&(t._height=t.constructor.height),t.logger=o.default.get(t.makeLogName()),t}return e=k,(n=[{key:"toString",value:function(){return this._label||this._id}},{key:"makeHTML",value:function(){return Object(i.a)("<div></div>",{class:"dashboard-widget-container"})}},{key:"initHTML",value:function(t){this.constructor.hasFrame&&t.addClass("has-frame"),this.constructor.noInvalidInteraction&&t.addClass("no-invalid-interaction"),this.constructor.noProgressInteraction&&t.addClass("no-progress-interaction");var e=Object(i.a)("<div></div>",{class:"dashboard-widget-body"});e.css("margin","".concat(N.c,"em")),this._bodyDiv=e;var n=Object(i.a)("<div></div>",{class:"dashboard-widget-label"}),o=this.constructor.hasFrame?N.f:N.e;return n.append(Object(i.a)("<span></span>")),n.css("height","".concat(o,"em")),n.children("span").css("font-size","".concat(N.d,"em")),e.append(n),this._labelDiv=n,t.append(e),t.append(this._makeLayoutControls()),t.on("pointerdown",function(t){if(this._panel.isEditEnabled())return this.isSelected()?void 0:(t.stopPropagation(),this.getPanel().setSelectedWidget(this),this.getPanel().handleWidgetSelect(this),this._moveControl.trigger(t),!1)}.bind(this)),this._glassDiv=Object(i.a)("<div></div>",{class:"dashboard-widget-glass"}),t.append(this._glassDiv),this._statusIcon=Object(i.a)("<div></div>",{class:"dashboard-widget-status-icon"}),t.append(this._statusIcon),this.setLabel(this._label),t}},{key:"makeContent",value:function(t,e){return Object(i.a)("<span></span>")}},{key:"refreshContent",value:function(){var t=this.getContentWidth(),e=this.getContentHeight(),n=this.makeContent(t,e);(n=n.wrap('<div class="dashboard-widget-content"></div>').parent()).css("height","".concat(e,"em")),this._contentElem?this._contentElem.replaceWith(n):this._bodyDiv.append(n),this._contentElem=n,this.isValid()&&this.showCurrentValue()}},{key:"clearContent",value:function(){this._contentElem.empty("")}},{key:"getContentElement",value:function(){return this._contentElem}},{key:"_makeLayoutControls",value:function(){var t=Object(i.a)();return this._moveControl=this._makeMoveControl(),t=t.add(this._moveControl),this._removeControl=this._makeRemoveControl(),t=t.add(this._removeControl),this._configureControl=this._makeConfigureControl(),t=t.add(this._configureControl),this._duplicateControl=this._makeDuplicateControl(),t=t.add(this._duplicateControl),this.constructor.vResizable&&(this._resizeTopControl=this._makeResizeTopControl(),this._resizeBottomControl=this._makeResizeBottomControl(),t=t.add(this._resizeTopControl).add(this._resizeBottomControl)),this.constructor.hResizable&&(this._resizeRightControl=this._makeResizeRightControl(),this._resizeLeftControl=this._makeResizeLeftControl(),t=t.add(this._resizeRightControl).add(this._resizeLeftControl)),t}},{key:"_makeMoveControl",value:function(){var t=Object(i.a)("<div></div>",{class:"dashboard-widget-control dashboard-widget-move"}),e=this,n=!1;return g.b(t,(function(t,i){var o=e._getPanelBody().offset(),r=t-o.left,a=i-o.top,s=e.getCellWidth(),l=Math.round(r/s),u=Math.round(a/s);l=Math.max(0,Math.min(e._panel.getWidth()-e._width,l)),u=Math.max(0,Math.min(e._panel.getHeight()-e._height,u)),e._panel.verifyWidgetLayout(l,u,e._width,e._height,e)||(l=e._left,u=e._top),e._left===l&&e._top===u||(e._left=l,e._top=u,e.updateLayout(),n=!0)}),(function(){n=!1}),(function(){n&&e.getPanel().handleWidgetMove(e)}),null),t}},{key:"_makeRemoveControl",value:function(){var t=Object(i.a)("<div></div>",{class:"qui-base-button dashboard-widget-control dashboard-widget-remove"}),e=Object(i.a)("<div></div>");return t.append(e),new s.a({name:"minus",variant:"interactive",activeVariant:"interactive brightness(80%)"}).applyTo(e),t.on("click",function(){this.showConfigForm().then(function(){this._configForm.pushPage(this.makeRemoveForm())}.bind(this))}.bind(this)),t}},{key:"_makeConfigureControl",value:function(){var t=Object(i.a)("<div></div>",{class:"qui-base-button dashboard-widget-control dashboard-widget-configure"}),e=this,n=Object(i.a)("<div></div>");return t.append(n),new s.a({name:"wrench",variant:"interactive",activeVariant:"interactive brightness(80%)"}).applyTo(n),t.on("click",(function(){e.showConfigForm()})),t}},{key:"_makeDuplicateControl",value:function(){var t=Object(i.a)("<div></div>",{class:"qui-base-button dashboard-widget-control dashboard-widget-duplicate"}),e=this,n=Object(i.a)("<div></div>");return t.append(n),new s.a({name:"duplicate",variant:"interactive",activeVariant:"interactive brightness(80%)"}).applyTo(n),t.on("click",(function(){e.getPanel().duplicateWidget(e)})),t}},{key:"_makeResizeTopControl",value:function(){var t=Object(i.a)("<div></div>",{class:"dashboard-widget-control dashboard-widget-resize-control dashboard-widget-resize-top"}),e=this,n=!1;return g.b(t,(function(t,i,o,r,a,s){var l=s;l-=e._getPanelBody().offset().top;var u=e.getCellWidth(),c=Math.round(l/u);c=Math.max(0,Math.min(e._top+e._height-1,c));var h=e._height+e._top-c;e._panel.verifyWidgetLayout(e._left,c,e._width,h,e)||(c=e._top),e._top!==c&&(e._height=h,e._top=c,e.updateLayout(),e.refreshContent(),e.updateState(),n=!0)}),(function(){n=!1}),(function(){n&&e.getPanel().handleWidgetResize(e)}),"y"),t}},{key:"_makeResizeRightControl",value:function(){var t=Object(i.a)("<div></div>",{class:"dashboard-widget-control dashboard-widget-resize-control dashboard-widget-resize-right"}),e=this,n=!1;return g.b(t,(function(t,i,o,r,a,s){var l=a;l-=e._getPanelBody().offset().left;var u=e.getCellWidth(),c=Math.round(l/u),h=(c=Math.max(e._left+1,Math.min(e._panel.getWidth(),c)))-e._left;e._panel.verifyWidgetLayout(e._left,e._top,h,e._height,e)||(h=e._width),h!==e._width&&(e._width=h,e.updateLayout(),e.refreshContent(),e.updateState(),n=!0)}),(function(){n=!1}),(function(){n&&e.getPanel().handleWidgetResize(e)}),"x"),t}},{key:"_makeResizeBottomControl",value:function(){var t=Object(i.a)("<div></div>",{class:"dashboard-widget-control dashboard-widget-resize-control dashboard-widget-resize-bottom"}),e=this,n=!1;return g.b(t,(function(t,i,o,r,a,s){var l=s;l-=e._getPanelBody().offset().top;var u=e.getCellWidth(),c=Math.round(l/u),h=(c=Math.max(e._top+1,Math.min(e._panel.getHeight(),c)))-e._top;e._panel.verifyWidgetLayout(e._left,e._top,e._width,h,e)||(h=e._height),h!==e._height&&(e._height=h,e.updateLayout(),e.refreshContent(),e.updateState(),n=!0)}),(function(){n=!1}),(function(){n&&e.getPanel().handleWidgetResize(e)}),"y"),t}},{key:"_makeResizeLeftControl",value:function(){var t=Object(i.a)("<div></div>",{class:"dashboard-widget-control dashboard-widget-resize-control dashboard-widget-resize-left"}),e=this,n=!1;return g.b(t,(function(t,i,o,r,a,s){var l=a;l-=e._getPanelBody().offset().left;var u=e.getCellWidth(),c=Math.round(l/u);c=Math.max(0,Math.min(e._left+e._width-1,c));var h=e._width+e._left-c;e._panel.verifyWidgetLayout(c,e._top,h,e._height,e)||(c=e._left),c!==e._left&&(e._width=h,e._left=c,e.updateLayout(),e.refreshContent(),e.updateState(),n=!0)}),(function(){n=!1}),(function(){n&&e.getPanel().handleWidgetResize(e)}),"x"),t}},{key:"_getPanelBody",value:function(){return this._panel.getBody()}},{key:"getCellWidth",value:function(){return this._panel?this._panel.getCellWidth():f.a(1)}},{key:"getEmSize",value:function(){return this.getCellWidth()/f.a(1)}},{key:"roundEm",value:function(t){if(!this._panel)return t;var e=this.getCellWidth();return Math.round(t*e)/e}},{key:"getPanel",value:function(){return this._panel}},{key:"getBody",value:function(){return this.getHTML(),this._bodyDiv}},{key:"updateLayout",value:function(){this.getHTML().css({width:"".concat(this._width,"em"),height:"".concat(this._height,"em"),left:"".concat(this._left,"em"),top:"".concat(this._top,"em")})}},{key:"makeLogName",value:function(){return"qtoggle.dashboard.widgets.widget".concat(this._id||"<new>")}},{key:"getId",value:function(){return this._id}},{key:"setId",value:function(t){this._id=t,this.logger=o.default.get(this.makeLogName())}},{key:"getLabel",value:function(){return this._label}},{key:"setLabel",value:function(t){this.getHTML(),this._label=t,this._labelDiv.children("span").html(this._label),this._labelDiv.css("display",t?"":"none"),this._bodyDiv.toggleClass("has-label",Boolean(t))}},{key:"getLeft",value:function(){return this._left}},{key:"getTop",value:function(){return this._top}},{key:"getWidth",value:function(){return this._width}},{key:"setWidth",value:function(t){this._width=t,this.updateLayout(),this.updateState(),this.refreshContent()}},{key:"getHeight",value:function(){return this._height}},{key:"setHeight",value:function(t){this._height=t,this.updateLayout(),this.updateState(),this.refreshContent()}},{key:"getContentWidth",value:function(){return this._width-2*N.c}},{key:"getContentHeight",value:function(){var t=this.constructor.hasFrame?N.f:N.e;return this._height-2*N.c-(this._label?t:0)}},{key:"onPanelBecomeActive",value:function(){}},{key:"setSelected",value:function(t){this._selected!==t&&(this._selected=t,this.getHTML().toggleClass("selected controls-visible",t))}},{key:"isSelected",value:function(){return this._selected}},{key:"updateState",value:function(){var t=this._computeState();this.getState()!==t&&this.setState(t)}},{key:"enterState",value:function(t,e){this.logger.debug("state ".concat(t," -> ").concat(e));var n=b.getCurrentAccessLevel()>=b.ACCESS_LEVEL_NORMAL,i=t===N.j&&this.constructor.noProgressInteraction||t===N.h&&this.constructor.noInvalidInteraction,o=e===N.j&&this.constructor.noProgressInteraction||e===N.h&&this.constructor.noInvalidInteraction||!n;switch(i&&!o?(this._glassDiv.removeClass("visible"),d.a((function(){this.css("display","")}),this._glassDiv)):!i&&o&&(this._glassDiv.css("display","block"),Object(v.b)(function(){this._glassDiv.addClass("visible")}.bind(this))),this.getHTML().removeClass(tt.join(" ")).addClass(e),e){case N.h:this._showStatusIcon(!0,e);break;case N.i:this._showStatusIcon(!1,e);break;default:Y(G(k.prototype),"enterState",this).call(this,t,e)}t!==N.h&&t!==N.g||e!==N.i||!this.isValid()||this.showCurrentValue()}},{key:"isValid",value:function(){return!0}},{key:"showProgress",value:function(t){this._showStatusIcon(!0,N.j)}},{key:"hideProgress",value:function(){}},{key:"showError",value:function(t){this._showStatusIcon(!0,N.g)}},{key:"hideError",value:function(){}},{key:"_computeState",value:function(){return this.inProgress()?N.j:this.hasError()?N.g:this.isValid()?N.i:N.h}},{key:"_showStatusIcon",value:function(t,e){this._statusIconTimeout&&(clearTimeout(this._statusIconTimeout),this._statusIconTimeout=null),t?this._statusIcon.hasClass("visible")?this._statusIcon.removeClass(tt.join(" ")).addClass(e):(this._statusIcon.removeClass("hidden"),this._statusIcon.removeClass(tt.join(" ")).addClass(e),this._statusIconTimeout=Object(v.b)(function(){this._statusIconTimeout=null,this._statusIcon.addClass("visible")}.bind(this))):this._statusIcon.hasClass("hidden")||(this._statusIconTimeout=Object(v.b)(function(){this._statusIcon.removeClass("visible"),this._statusIconTimeout=d.a(function(){this._statusIconTimeout=null,this._statusIcon.removeClass(tt.join(" ")),this._statusIcon.addClass("hidden")}.bind(this))}.bind(this)))}},{key:"vibrate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;navigator.vibrate&&navigator.vibrate(t),this.logger.debug("vibrate(".concat(t,")"))}},{key:"setDragElement",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this._clickDragElemX=this._clickDragElemY=null,this._dragElem&&g.a(this._dragElem),this._dragElem=t,t&&g.b(t,function(t,e,n,i,o,r){this.onDrag((this._clickDragElemX+n)*this._px2em,(this._clickDragElemY+i)*this._px2em,n*this._px2em,i*this._px2em)}.bind(this),function(t,e,n,i){var o=this._dragElem.position();this._px2em=f.d(1,this._bodyDiv),this._clickDragElemX=o.left,this._clickDragElemY=o.top,this.onDragBegin()}.bind(this),function(t,e,n,i,o,r){this.onDragEnd((this._clickDragElemX+n)*this._px2em,(this._clickDragElemY+i)*this._px2em,n*this._px2em,i*this._px2em),this._clickDragElemX=this._clickDragElemY=null}.bind(this),e)}},{key:"onDragBegin",value:function(){}},{key:"onDrag",value:function(t,e,n,i){}},{key:"onDragEnd",value:function(t,e,n,i){}},{key:"isDragging",value:function(){return Boolean(this._dragElem)&&null!=this._clickDragElemX}},{key:"toJSON",value:function(){var t={id:this._id,label:this._label,left:this._left,top:this._top,config:this.configToJSON()};return this.constructor.hResizable&&(t.width=this._width),this.constructor.vResizable&&(t.height=this._height),t}},{key:"fromJSON",value:function(t){null!=t.id&&(this._id=t.id),null!=t.label&&this.setLabel(t.label),null!=t.left&&(this._left=t.left),null!=t.top&&(this._top=t.top),this.constructor.hResizable&&null!=t.width&&(this._width=t.width),this.constructor.vResizable&&null!=t.height&&(this._height=t.height),t.config&&this.configFromJSON(t.config),this.logger=o.default.get(this.makeLogName())}},{key:"configToJSON",value:function(){return{}}},{key:"configFromJSON",value:function(t){}},{key:"handlePortValueChange",value:function(t,e){this.onPortValueChange(t,e)}},{key:"onPortValueChange",value:function(t,e){}},{key:"setPortValue",value:function(t,e){return this.setProgress(),m.patchPortValue(t,e).then(function(){this.clearProgress()}.bind(this)).catch(function(t){this.setError(t),this.isValid()&&this.showCurrentValue(),c.a(t.message)}.bind(this))}},{key:"getPortValue",value:function(t){var e=this.getPort(t);return e?e.value:null}},{key:"setPortSequence",value:function(t,e,n,i){return this.setProgress(),m.patchPortSequence(t,e,n,i).then(function(){this.clearProgress()}.bind(this)).catch(function(t){this.setError(t),this.isValid()&&this.showCurrentValue(),c.a(t.message)}.bind(this))}},{key:"getPort",value:function(t){return y.getPort(t)}},{key:"getPortDevice",value:function(t){return y.findPortSlaveDevice(t)}},{key:"showCurrentValue",value:function(){}},{key:"makeRemoveForm",value:function(){var t=p.a(Object(r.a)("Really remove %(object)s?"),{object:u.b(this.toString())});return new l.ConfirmMessageForm({message:t,onYes:function(){this.logger.debug("removing"),this._panel.removeWidget(this),this._panel.save(),this._configForm.close(!0)}.bind(this),pathId:"remove"})}},{key:"getConfigForm",value:function(){return this._configForm||(this._configForm=new this.constructor.ConfigForm({widget:this})),this._configForm}},{key:"showConfigForm",value:function(){var t=this.getConfigForm();if(this._configForm.updateFromWidget(),this._configForm.updatePortFields(),t.hasContext())return Promise.resolve();this._panel.isEditEnabled()||this._panel.enableEditing();var e=["dashboard"].concat(q(this._panel.getPath().slice(1).map((function(t){return t.getId()}))));return h.navigate({path:e}).then(function(){return this._panel.pushPage(t)}.bind(this))}},{key:"makeMoveForm",value:function(){return new B(this)}},{key:"moveToPanel",value:function(t){this.logger.debug("moving to panel ".concat(t.getId())),t.duplicateWidget(this),this.getPanel().removeWidget(this),this.getPanel().save()}}])&&X(e.prototype,n),a&&X(e,a),k}(Object(a.b)().with(_.d));Q(et,"category",""),Q(et,"displayName",""),Q(et,"icon",null),Q(et,"typeName","Widget"),Q(et,"ConfigForm",H.a),Q(et,"noProgressInteraction",!1),Q(et,"noInvalidInteraction",!0),Q(et,"width",null),Q(et,"height",null),Q(et,"vResizable",!1),Q(et,"hResizable",!1),Q(et,"hasFrame",!1);e.b=et}}]);
//# sourceMappingURL=0.js.map