(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{164:function(e,t,n){"use strict";n.r(t);var r=n(2),o=n(0),i=n(4),a=n(7),u=n(8),l=n(6),s=n(71),c=n(61),d=n(160);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),e}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var o=j(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var P=function(e){_(n,e);var t=w(n);function n(e){var r=b({},e);return v(this,n),t.call(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({fields:[new i.c({name:"color",label:Object(o.a)("Color"),filterEnabled:!0,required:!0}),new s.a({name:"portId",label:Object(o.a)("Port"),required:!0,onChange:function(e,t){return t._showHidePortTypeFields()}}),new i.a({name:"inverted",label:Object(o.a)("Inverted Logic")}),new i.h({name:"pressedValue",label:Object(o.a)("Pressed Value"),required:!0}),new i.h({name:"releasedValue",label:Object(o.a)("Released Value"),required:!0}),new i.o({name:"timeout",label:Object(o.a)("Release Timeout"),unit:"ms",min:0,max:1e4,step:100,description:Object(o.a)("Sets the time after which the button is automatically released. Value 0 disables automatic release.")})]},r))}return y(n,[{key:"_showHidePortTypeFields",value:function(){var e=this.getUnvalidatedData(),t=this.getPort(e.portId),n=!0;t&&"number"===t.type&&(n=!1);var r=["inverted"],o=["pressedValue","releasedValue"];n?(o.forEach((function(e){this.getField(e).hide()}),this),r.forEach((function(e){this.getField(e).show()}),this)):(r.forEach((function(e){this.getField(e).hide()}),this),o.forEach((function(e){this.getField(e).show()}),this))}},{key:"onUpdateFromWidget",value:function(){this._showHidePortTypeFields()}}]),n}(n(74).a),V=function(e){_(n,e);var t=w(n);function n(){var e;return v(this,n),(e=t.call(this))._color=d.a,e._portId="",e._inverted=!1,e._pressedValue=1,e._releasedValue=0,e._timeout=1e3,e._timeoutHandle=null,e._bezelDiv=null,e._handleDiv=null,e}return y(n,[{key:"isValid",value:function(){if(!this._portId)return!1;var e=this.getPort(this._portId);return Boolean(e&&e.enabled&&e.writable&&!1!==e.online)}},{key:"makeContent",value:function(e,t){var n=Object(r.a)("<div></div>",{class:"dashboard-push-button-container"});return this._bezelDiv=this._makeBezel(e,t),n.css("borderWidth","".concat(c.b,"em")),n.append(this._bezelDiv),this._handleDiv=this._makeHandleDiv(),this._bezelDiv.append(this._handleDiv),n}},{key:"_makeBezel",value:function(e,t){var n=Math.min(e,t)-2*c.b,o=t>e?(t-e)/2:0,i=Object(r.a)("<div></div>",{class:"dashboard-push-button-bezel"});return i.css({width:"".concat(n,"em"),height:"".concat(n,"em"),"margin-top":"".concat(o,"em")}),i}},{key:"_makeHandleDiv",value:function(){var e=Object(r.a)("<div></div>",{class:"qui-base-button dashboard-push-button-handle"});e.css({background:u.f(this._color),margin:"".concat(this.roundEm(c.a),"em")});var t=this;function n(){l.a.off("pointerup pointercancel pointerleave",n),t.vibrate(),t.handleRelease(),t._timeoutHandle&&(clearTimeout(t._timeoutHandle),t._timeoutHandle=null)}return e.on("pointerdown",(function(e){l.a.on("pointerup pointercancel pointerleave",n),t.vibrate(),t.handlePress(),t._timeout&&(t._timeoutHandle=setTimeout((function(){t._timeoutHandle=null,n()}),t._timeout)),e.preventDefault()})),e}},{key:"_isBoolean",value:function(){var e=!0,t=this.getPort(this._portId);return t&&"number"===t.type&&(e=!1),e}},{key:"handlePress",value:function(){this._isBoolean()?this.setPortValue(this._portId,!this._inverted):this.setPortValue(this._portId,this._pressedValue)}},{key:"handleRelease",value:function(){this._isBoolean()?this.setPortValue(this._portId,this._inverted):this.setPortValue(this._portId,this._releasedValue)}},{key:"configToJSON",value:function(){return{color:this._color,portId:this._portId,inverted:this._inverted,pressedValue:this._pressedValue,releasedValue:this._releasedValue,timeout:this._timeout}}},{key:"configFromJSON",value:function(e){e.color&&(this._color=e.color),e.portId&&(this._portId=e.portId),null!=e.inverted&&(this._inverted=e.inverted),null!=e.pressedValue&&(this._pressedValue=e.pressedValue),null!=e.releasedValue&&(this._releasedValue=e.releasedValue),null!=e.timeout&&(this._timeout=e.timeout)}}]),n}(d.b);p(V,"category",Object(o.a)("Push Buttons")),p(V,"displayName",Object(o.a)("Push Button")),p(V,"typeName","PushButton"),p(V,"icon",new a.a({name:"widget-push-button",stockName:"qtoggle"})),p(V,"ConfigForm",P),p(V,"vResizable",!0),p(V,"hResizable",!0),c.m(V),t.default=V}}]);
//# sourceMappingURL=14.js.map