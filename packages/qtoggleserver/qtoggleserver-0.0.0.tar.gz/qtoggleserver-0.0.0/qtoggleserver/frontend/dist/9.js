(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{168:function(e,t,n){"use strict";n.r(t);var o=n(2),r=n(0),i=n(4),a=n(7),c=n(8),u=n(71),l=n(160),s=n(74),f=n(61);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),e}function O(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=j(e);if(t){var r=j(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return w(this,n)}}function w(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var V=function(e){O(n,e);var t=m(n);function n(e){var o=b({},e);return v(this,n),t.call(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({fields:[new i.c({name:"color",filterEnabled:!0,label:Object(r.a)("Color"),required:!0}),new u.a({name:"portId",label:Object(r.a)("Port"),required:!0,onChange:function(e,t){return t._showHidePortTypeFields()}}),new i.a({name:"inverted",label:Object(r.a)("Inverted Logic")}),new i.h({name:"offValue",label:Object(r.a)("Off Value")}),new i.h({name:"onValue",label:Object(r.a)("On Value")})]},o))}return _(n,[{key:"_showHidePortTypeFields",value:function(){var e=this.getUnvalidatedData(),t=this.getPort(e.portId),n=!0;t&&"number"===t.type&&(n=!1);var o=["inverted"],r=["offValue","onValue"];n?(r.forEach((function(e){this.getField(e).hide()}),this),o.forEach((function(e){this.getField(e).show()}),this)):(o.forEach((function(e){this.getField(e).hide()}),this),r.forEach((function(e){this.getField(e).show()}),this))}},{key:"onUpdateFromWidget",value:function(){this._showHidePortTypeFields()}}]),n}(s.a),k=function(e){O(n,e);var t=m(n);function n(){var e;return v(this,n),(e=t.call(this))._color=l.a,e._portId="",e._inverted=!1,e._offValue=0,e._onValue=1,e._bezelDiv=null,e._lightDiv=null,e}return _(n,[{key:"isValid",value:function(){if(!this._portId)return!1;var e=this.getPort(this._portId);return Boolean(e&&e.enabled&&!1!==e.online)}},{key:"showCurrentValue",value:function(){var e=this.getPortValue(this._portId);null!=e&&this._showValue(e)}},{key:"onPortValueChange",value:function(e,t){e===this._portId&&this._showValue(t)}},{key:"_showValue",value:function(e){this._isBoolean()?(e=this._inverted?!e:e)?this._showOn():e||this._showOff():e===this._onValue||e!==this._offValue&&null==this._onValue?this._showOn():(e===this._offValue||e!==this._onValue&&null==this._offValue)&&this._showOff()}},{key:"makeContent",value:function(e,t){var n=Object(o.a)("<div></div>",{class:"dashboard-on-off-indicator-container"});return this._bezelDiv=this._makeBezel(e,t),n.css("borderWidth","".concat(f.b,"em")),n.append(this._bezelDiv),this._lightDiv=this._makeLightDiv(),this._bezelDiv.append(this._lightDiv),n}},{key:"_makeBezel",value:function(e,t){var n=Math.min(e,t)/2,r=n/6,i=Object(o.a)("<div></div>",{class:"dashboard-on-off-indicator-bezel"});return i.css({width:"".concat(n,"em"),height:"".concat(n,"em"),"margin-top":"".concat(r,"em")}),i}},{key:"_makeLightDiv",value:function(){var e=Object(o.a)("<div></div>",{class:"dashboard-on-off-indicator-light"});return e.css({background:c.f(this._color),margin:"".concat(this.roundEm(f.a),"em")}),e}},{key:"_showOn",value:function(){this.getContentElement().addClass("on"),this._lightDiv.css("background",c.f(this._color))}},{key:"_showOff",value:function(){this.getContentElement().removeClass("on"),this._lightDiv.css("background","")}},{key:"_isBoolean",value:function(){var e=this.getPort(this._portId);return e&&"boolean"===e.type}},{key:"configToJSON",value:function(){return{color:this._color,portId:this._portId,inverted:this._inverted,offValue:this._offValue,onValue:this._onValue}}},{key:"configFromJSON",value:function(e){e.color&&(this._color=e.color),e.portId&&(this._portId=e.portId),null!=e.inverted&&(this._inverted=e.inverted),this._offValue=e.offValue,this._onValue=e.onValue}}]),n}(l.b);p(k,"category",Object(r.a)("Displays")),p(k,"displayName",Object(r.a)("On/Off Indicator")),p(k,"typeName","OnOffIndicator"),p(k,"icon",new a.a({name:"widget-on-off-indicator",stockName:"qtoggle"})),p(k,"ConfigForm",V),p(k,"vResizable",!0),p(k,"hResizable",!0),f.m(k),t.default=k}}]);
//# sourceMappingURL=9.js.map