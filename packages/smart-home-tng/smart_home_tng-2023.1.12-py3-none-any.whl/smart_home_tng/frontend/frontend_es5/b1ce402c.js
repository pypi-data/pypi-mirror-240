"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[49686],{55422:function(e,t,n){n.d(t,{MY:function(){return v},Yc:function(){return f},hb:function(){return p},jV:function(){return u},o1:function(){return h},ri:function(){return g},sS:function(){return _},tf:function(){return b}});var r=n(49706),i=n(58831),a=n(55816),s=n(22311),o=n(56007);const c="ui.components.logbook.messages",u=["counter","proximity","sensor","zone"],l={"numeric state of":"triggered_by_numeric_state_of","state of":"triggered_by_state_of",event:"triggered_by_event",time:"triggered_by_time","time pattern":"triggered_by_time_pattern","Home Assistant stopping":"triggered_by_homeassistant_stopping","Home Assistant starting":"triggered_by_homeassistant_starting"},d={},_=async(e,t,n)=>(await e.loadBackendTranslation("device_class"),m(e,t,void 0,void 0,n)),m=(e,t,n,r,i,a)=>{if((r||a)&&(!r||0===r.length)&&(!a||0===a.length))return Promise.resolve([]);const s={type:"logbook/get_events",start_time:t};return n&&(s.end_time=n),null!=r&&r.length&&(s.entity_ids=r),null!=a&&a.length&&(s.device_ids=a),i&&(s.context_id=i),e.callWS(s)},f=(e,t,n,r,i,a)=>{if((i||a)&&(!i||0===i.length)&&(!a||0===a.length))return Promise.reject("No entities or devices");const s={type:"logbook/event_stream",start_time:n,end_time:r};return null!=i&&i.length&&(s.entity_ids=i),null!=a&&a.length&&(s.device_ids=a),e.connection.subscribeMessage((e=>t(e)),s)},b=(e,t)=>{d[`${e}${t}`]={}},h=(e,t)=>({entity_id:e.entity_id,state:t,attributes:{device_class:null==e?void 0:e.attributes.device_class,source_type:null==e?void 0:e.attributes.source_type,has_date:null==e?void 0:e.attributes.has_date,has_time:null==e?void 0:e.attributes.has_time,entity_picture_local:r.iY.has((0,i.M)(e.entity_id))||null==e?void 0:e.attributes.entity_picture_local,entity_picture:r.iY.has((0,i.M)(e.entity_id))||null==e?void 0:e.attributes.entity_picture}}),p=(e,t)=>{for(const n in l)if(t.startsWith(n))return t.replace(n,`${e(`ui.components.logbook.${l[n]}`)}`);return t},g=(e,t,n,i,s)=>{switch(s){case"device_tracker":case"person":return"not_home"===n?t(`${c}.was_away`):"home"===n?t(`${c}.was_at_home`):t(`${c}.was_at_state`,"state",n);case"sun":return t("above_horizon"===n?`${c}.rose`:`${c}.set`);case"binary_sensor":{const e=n===r.uo,a=n===r.lC,s=i.attributes.device_class;switch(s){case"battery":if(e)return t(`${c}.was_low`);if(a)return t(`${c}.was_normal`);break;case"connectivity":if(e)return t(`${c}.was_connected`);if(a)return t(`${c}.was_disconnected`);break;case"door":case"garage_door":case"opening":case"window":if(e)return t(`${c}.was_opened`);if(a)return t(`${c}.was_closed`);break;case"lock":if(e)return t(`${c}.was_unlocked`);if(a)return t(`${c}.was_locked`);break;case"plug":if(e)return t(`${c}.was_plugged_in`);if(a)return t(`${c}.was_unplugged`);break;case"presence":if(e)return t(`${c}.was_at_home`);if(a)return t(`${c}.was_away`);break;case"safety":if(e)return t(`${c}.was_unsafe`);if(a)return t(`${c}.was_safe`);break;case"cold":case"gas":case"heat":case"moisture":case"motion":case"occupancy":case"power":case"problem":case"smoke":case"sound":case"vibration":if(e)return t(`${c}.detected_device_class`,{device_class:t(`component.binary_sensor.device_class.${s}`)});if(a)return t(`${c}.cleared_device_class`,{device_class:t(`component.binary_sensor.device_class.${s}`)});break;case"tamper":if(e)return t(`${c}.detected_tampering`);if(a)return t(`${c}.cleared_tampering`)}break}case"cover":switch(n){case"open":return t(`${c}.was_opened`);case"opening":return t(`${c}.is_opening`);case"closing":return t(`${c}.is_closing`);case"closed":return t(`${c}.was_closed`)}break;case"lock":if("unlocked"===n)return t(`${c}.was_unlocked`);if("locked"===n)return t(`${c}.was_locked`)}return n===r.uo?t(`${c}.turned_on`):n===r.lC?t(`${c}.turned_off`):o.V_.includes(n)?t(`${c}.became_unavailable`):e.localize(`${c}.changed_to_state`,"state",i?(0,a.D)(t,i,e.locale,n):n)},v=e=>"sensor"!==(0,s.N)(e)||void 0===e.attributes.unit_of_measurement&&void 0===e.attributes.state_class},79339:function(e,t,n){n.d(t,{Fb:function(){return m},PG:function(){return _},kh:function(){return s},l:function(){return u},oA:function(){return o},tm:function(){return l},z9:function(){return c}});var r=n(7323),i=n(58831),a=n(55422);const s=["camera","configurator"],o=["scene","automation"],c=["script"],u=["alarm_control_panel","automation","camera","climate","configurator","counter","cover","fan","group","humidifier","input_datetime","light","lock","media_player","person","remote","script","scene","sun","timer","update","vacuum","water_heater","weather"],l=["input_number","input_select","input_text","number","scene","update","select"],d=["camera","configurator"],_=(e,t)=>(0,r.p)(e,"history")&&!d.includes((0,i.M)(t)),m=(e,t)=>{if(!(0,r.p)(e,"logbook"))return!1;const n=e.states[t];if(!n||n.attributes.unit_of_measurement)return!1;const s=(0,i.M)(t);return!a.jV.includes(s)&&!d.includes(s)}},82791:function(e,t,n){n.d(t,{S:function(){return s},ST:function(){return c},n3:function(){return o}});var r=n(79339),i=n(22311);const a={alarm_control_panel:()=>Promise.all([n.e(29563),n.e(98985),n.e(79116)]).then(n.bind(n,79116)),automation:()=>n.e(35513).then(n.bind(n,35513)),camera:()=>n.e(14920).then(n.bind(n,14920)),climate:()=>Promise.all([n.e(29563),n.e(23355),n.e(9823)]).then(n.bind(n,9823)),configurator:()=>Promise.all([n.e(29563),n.e(98985),n.e(4940),n.e(8793)]).then(n.bind(n,70375)),counter:()=>n.e(6850).then(n.bind(n,6850)),cover:()=>Promise.all([n.e(46583),n.e(97148)]).then(n.bind(n,97148)),fan:()=>Promise.all([n.e(29563),n.e(23355),n.e(46583),n.e(947)]).then(n.bind(n,947)),group:()=>Promise.all([n.e(29563),n.e(98985),n.e(23355),n.e(89313),n.e(35794),n.e(39902)]).then(n.bind(n,39902)),humidifier:()=>Promise.all([n.e(29563),n.e(23355),n.e(35317)]).then(n.bind(n,35317)),input_datetime:()=>Promise.all([n.e(29563),n.e(98985),n.e(23355),n.e(12545),n.e(1506)]).then(n.bind(n,56127)),light:()=>Promise.all([n.e(29563),n.e(23355),n.e(46583),n.e(36016)]).then(n.bind(n,36016)),lock:()=>Promise.all([n.e(29563),n.e(98985),n.e(46583),n.e(50534)]).then(n.bind(n,50534)),media_player:()=>Promise.all([n.e(29563),n.e(23355),n.e(46684)]).then(n.bind(n,46684)),person:()=>Promise.all([n.e(46583),n.e(23956),n.e(95993)]).then(n.bind(n,95993)),remote:()=>Promise.all([n.e(46583),n.e(6907)]).then(n.bind(n,6907)),script:()=>n.e(71593).then(n.bind(n,71593)),sun:()=>n.e(66369).then(n.bind(n,66369)),timer:()=>Promise.all([n.e(46583),n.e(69491)]).then(n.bind(n,69491)),update:()=>Promise.all([n.e(41985),n.e(46504),n.e(4940),n.e(27894)]).then(n.bind(n,27894)),vacuum:()=>Promise.all([n.e(29563),n.e(23355),n.e(46583),n.e(31790)]).then(n.bind(n,31790)),water_heater:()=>Promise.all([n.e(29563),n.e(23355),n.e(52994)]).then(n.bind(n,52994)),weather:()=>n.e(8914).then(n.bind(n,8914))},s=e=>{const t=(0,i.N)(e);return o(t)},o=e=>r.l.includes(e)?e:r.tm.includes(e)?"hidden":"default",c=e=>{e in a&&a[e]()}},83320:function(e,t,n){n.d(t,{w:function(){return a}});n(7355),n(26602),n(93479),n(51432),n(73089),n(8864),n(17875);var r=n(7778);const i=new Set(["conditional","icon","image","service-button","state-badge","state-icon","state-label"]),a=e=>(0,r.Tw)("element",e,i)},49686:function(e,t,n){n.r(t),n.d(t,{createBadgeElement:function(){return i.J},createCardElement:function(){return a.Z6},createHeaderFooterElement:function(){return s.t},createHuiElement:function(){return o.w},createRowElement:function(){return c.m},importMoreInfoControl:function(){return r.ST}});var r=n(82791),i=n(73953),a=n(51153),s=n(89026),o=n(83320),c=n(37482)}}]);